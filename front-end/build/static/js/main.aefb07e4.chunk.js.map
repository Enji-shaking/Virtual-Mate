{"version":3,"sources":["TabBar.js","TopLayer.js","FixedContainer.js","Profiles/FootPrint.js","Config/MyFirebase.js","Profiles/PersonalProfile.js","ToDoListTab/ToDoCard.js","ToDoListTab/index.js","Picture.js","ChatsTab/ChatBoard.js","ChatsTab/index.js","GalleryTab/GalleryCard.js","GalleryTab/index.js","AddCard/index.js","PeopleInCard/index.js","Login/Login.js","Login/index.js","Register/index.js","Profiles/Album.js","Profiles/OtherUserPage.js","ToDoListTab/Completed.js","Profiles/RequestChat.js","Profiles/Setting.js","ChatsTab/RequestList.js","App.js","index.js"],"names":["TabBar","path","window","location","pathname","position","React","useState","value","BottomNavigation","showLabels","root","style","bottom","width","height","backgroundColor","BottomNavigationAction","label","icon","marginBottom","component","Link","to","color","TopLayer","props","history","useHistory","Box","display","displayType","src","margin","IconButton","onClick","goBack","fontSize","FixedContainer","Fragment","this","CssBaseline","Container","fixed","padding","fontFamily","fontStyle","children","Component","FootPrint","list","activities","map","activity","id","textDecoration","alignItems","justifyContent","marginTop","Avatar","pic","alt","fontWeight","name","date","defaultProps","firebase","initializeApp","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","analytics","myFirestore","firestore","myStorage","storage","ProfilePage","user","sessionStorage","getItem","userName","album","avatar","cardsTime","profile","setProfile","isLoading","setIsLoading","useEffect","a","axios","get","result","console","log","data","avatarEdit","fetchData","av","albumDelete","e","target","newAlbum","forEach","element","push","collection","doc","update","then","response","catch","error","maxWidth","top","right","background","textTransform","border","flexDirection","Badge","overlap","anchorOrigin","vertical","horizontal","badgeContent","className","htmlFor","type","accept","onChange","URL","createObjectURL","files","uploadFileRef","ref","child","put","on","alert","snapshot","getDownloadURL","url","flexWrap","photo","textAlign","length","borderRadius","err","ToDoCard","cardName","tagIds","tags","pass","setTag","request","all","imageUrl","imageId","image","setImage","Delete","setDelete","Complete","setComplete","Deleteopen","Boolean","Deleteid","undefined","Completeopen","completeId","wordWrap","tag","tagName","preventDefault","currentTarget","Popover","open","anchorEl","onClose","Button","post","cardId","userCred","reload","ButtonBase","ToDoListTab","currentTodo","setCurrent","params","userId","password","href","card","activityImageId","relatedTagsId","activityName","Picture","myStyle","radius","ChatBoard","getListHistory","scrollToBottom","inputValue","setInputValue","listMessage","uploadPhoto","setUploadPhoto","messagesEnd","setMessagesEnd","listener","chatId","onSnapshot","docChanges","change","onSendMessage","content","trim","timestamp","moment","valueOf","toString","itemMessage","idFrom","idTo","userOtherId","set","lastActiveTimeStamp","Date","toLocaleDateString","lastMessage","scrollIntoView","viewListMessage","item","index","myAvatar","marginRight","otherAvatar","renderListMessage","float","clear","el","placeholder","event","onKeyPress","key","eve","document","getElementById","ChatsTab","fatchRequests","requestList","setState","currentUserId","chatList","chats","fecthUserBasedOnChat","ele","Chat","userOther","users","userList","chatInfoList","state","chattingOther","chattingId","chatName","viewListUser","marginLeft","overflow","paddingTop","zIndex","renderUserList","withRouter","GalleryCard","useStyles","makeStyles","classes","canAdd","go","GalleryTab","todo","setTodo","setData","tmp","Set","t","add","searchContent","changeSearch","boxSizing","setItem","has","removeItem","AddCard","buttonStyle","inputStyle","borderBottom","outline","setName","setError","img","changeImg","visibility","split","tagLength","CardView","useParams","usersAvatars","setUsersAvatars","setCard","activityImageUrl","setActivityImageUrl","fetchCardInfo","done","i","filter","opacity","Login1","inputSize","email","setEmail","setPass","Login","Register","setUser","OtherUserPage","match","setOther","setResult","setactivity","disabled","Completed","Request","userId_other","Setting","RequestList","setUserId","setUserPass","userPass","setUserList","acceptRequest","newArray","splice","App","exact","ProfileTab","ReactDOM","render"],"mappings":"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","file":"static/js/main.aefb07e4.chunk.js","sourcesContent":["import React from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport BottomNavigation from '@material-ui/core/BottomNavigation';\r\nimport BottomNavigationAction from '@material-ui/core/BottomNavigationAction';\r\nimport DoneOutlineIcon from '@material-ui/icons/DoneOutline';\r\nimport PersonOutlinedIcon from '@material-ui/icons/PersonOutlined';\r\nimport SmsOutlinedIcon from '@material-ui/icons/SmsOutlined';\r\nimport HomeOutlinedIcon from '@material-ui/icons/HomeOutlined';\r\n\r\nimport { Link } from 'react-router-dom';\r\n\r\nexport default function TabBar() {\r\n\r\n const path=window.location.pathname;\r\n let position=0;\r\n  if(path==='/Chats')  position=2;\r\n  if(path==='/ToDoList') position=1;\r\n  if(path==='/Gallery') position=0;\r\n  if(path==='/Profile') position=3;\r\nconst [value, setValue] = React.useState(position);\r\n\r\n  return (\r\n    <BottomNavigation\r\n      value={value}\r\n      showLabels\r\n      root={value}\r\n      style={{position: 'fixed', bottom: '0', width: '100%', height:'10vh',backgroundColor: '#54BEF5'}}\r\n    >\r\n      <BottomNavigationAction label=\"Gallery\" icon={<HomeOutlinedIcon style={{width:'6vw',height:'6vw', marginBottom:'2px'}}/>} component={Link} to='/' style={{color:'white'}} />\r\n      <BottomNavigationAction label=\"My ToDo\" icon={<DoneOutlineIcon style={{width:'6vw',height:'6vw', marginBottom:'2px'}}/>} component={Link} to='/ToDoList' style={{color:'white'}} />\r\n      <BottomNavigationAction label=\"Chats\" icon={<SmsOutlinedIcon style={{width:'6vw',height:'6vw', marginBottom:'2px'}} />} component={Link} to='/Chats' style={{color:'white'}}/>\r\n      <BottomNavigationAction label=\"Profile\" icon={<PersonOutlinedIcon style={{width:'6vw',height:'6vw', marginBottom:'2px'}}/>} component={Link} to='/Profile' style={{color:'white'}}/>\r\n    </BottomNavigation>\r\n  );\r\n}","import React from 'react';\r\nimport CloudDoneIcon from '@material-ui/icons/CloudDone';\r\nimport ReplyIcon from '@material-ui/icons/Reply';\r\nimport Box from '@material-ui/core/Box';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport { useHistory } from 'react-router-dom';\r\n\r\nexport default function TopLayer(props) {\r\n  const colorStyle = {\r\n    // backgroundImage: 'linear-gradient(to top, #a18cd1 0%, #fbc2eb 100%)',\r\n    color: '#54BEF5',\r\n    display: 'flex',\r\n  };\r\n  let history = useHistory();\r\n  return (\r\n    <Box style={colorStyle}>\r\n      {props.displayType !== 'return' ? (\r\n        <img\r\n          src=\"/logo.png\"\r\n          style={{ width: '38.6vw', margin: '6px 3px' }}\r\n        ></img>\r\n      ) : (\r\n        <IconButton\r\n          onClick={() => {\r\n            history.goBack();\r\n          }}\r\n        >\r\n          <ReplyIcon style={{ color: '#54BEF5', fontSize: '7vw' }} />\r\n        </IconButton>\r\n      )}\r\n    </Box>\r\n  );\r\n}\r\n","import React from 'react';\r\nimport CssBaseline from '@material-ui/core/CssBaseline';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Container from '@material-ui/core/Container';\r\nimport TabBar from './TabBar'\r\nimport TopLayer from './TopLayer';\r\nimport { Divider } from '@material-ui/core';\r\n\r\nclass FixedContainer extends React.Component {\r\n    render(){\r\n    return(\r\n    <React.Fragment >\r\n        <TopLayer displayType={this.props.displayType}/>\r\n      <CssBaseline/>\r\n      <Container fixed style={{padding: '0'}}>\r\n        <div style={{width: '100%', marginBottom: '10vh', padding: '5vw',fontFamily:'sans-serif, Roboto',fontStyle:'normal'}}>\r\n          {this.props.children}\r\n        </div>\r\n        <TabBar/>\r\n      </Container>\r\n    </React.Fragment>);\r\n    };\r\n}\r\nexport default FixedContainer;","import React from 'react';\r\nimport Avatar from '@material-ui/core/Avatar';\r\nimport { Link } from 'react-router-dom';\r\nclass FootPrint extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n  }\r\n  static defaultProps = {\r\n    activities: [],\r\n  };\r\n  render() {\r\n    const activities = this.props.activities;\r\n\r\n    const list = activities.map((activity) => (\r\n      <Link key={activity.id} to={`/ActivityCard/${activity.id}`} style={{ textDecoration: 'none',color:'black'}}>\r\n        <div\r\n          key={activity.id}\r\n          style={{\r\n            display: 'flex',\r\n            alignItems: 'center',\r\n            justifyContent: 'space-between',\r\n            width: '85vw',\r\n            marginTop: '5vw',\r\n          }}\r\n        >\r\n          <div style={{ display: 'flex', alignItems: 'center' }}>\r\n            <Avatar src={activity.pic} alt={activity.id} />\r\n            <div\r\n              style={{ padding: '0px 5vw', fontSize: '1em', fontWeight: '500' }}\r\n            >\r\n              {' '}\r\n              {activity.name}\r\n            </div>\r\n          </div>\r\n          <div style={{ fontSize: '0.6em' }}> {activity.date}</div>\r\n        </div>\r\n      </Link>\r\n    ));\r\n    return <div>{list}</div>;\r\n  }\r\n}\r\nexport default FootPrint;\r\n","import firebase from 'firebase'\r\n\r\nconst config = {\r\n    apiKey: \"AIzaSyDcmQtOje_yTFxq6_aIiMhsB1yVyx-yZB4\",\r\n    authDomain: \"virtual-mate-735d0.firebaseapp.com\",\r\n    databaseURL: \"https://virtual-mate-735d0.firebaseio.com\",\r\n    projectId: \"virtual-mate-735d0\",\r\n    storageBucket: \"virtual-mate-735d0.appspot.com\",\r\n    messagingSenderId: \"604795823558\",\r\n    appId: \"1:604795823558:web:46f59c5dda077dd878bec7\",\r\n}\r\nfirebase.initializeApp(config)\r\nfirebase.analytics();\r\n\r\nexport const myFirebase = firebase\r\nexport const myFirestore = firebase.firestore()\r\nexport const myStorage = firebase.storage()\r\n","import React, { useState, useEffect } from 'react';\r\nimport '../index.css';\r\nimport FixedContainer from '../FixedContainer.js';\r\nimport Avatar from '@material-ui/core/Avatar';\r\nimport FootPrint from './FootPrint';\r\nimport axios from 'axios';\r\nimport Badge from '@material-ui/core/Badge';\r\nimport SettingsIcon from '@material-ui/icons/Settings';\r\nimport { useHistory } from 'react-router-dom';\r\nimport { myFirestore, myStorage } from '../Config/MyFirebase';\r\nimport AddBoxOutlinedIcon from '@material-ui/icons/AddBoxOutlined';\r\nimport IndeterminateCheckBoxOutlinedIcon from '@material-ui/icons/IndeterminateCheckBoxOutlined';\r\nimport ReactLoading from 'react-loading';\r\n\r\nexport default function ProfilePage(props) {\r\n  let user = sessionStorage.getItem('id');\r\n  let pass = sessionStorage.getItem('pass');\r\n  const history = useHistory();\r\n  const [profile, setProfile] = useState({\r\n    userName: 'username',\r\n    album: ['url'],\r\n    avatar: 'avatar',\r\n    cardsTime: [\r\n      {\r\n        pic: 'logo192.png',\r\n        date: '2000-08-10',\r\n        id: '3',\r\n        name: 'test',\r\n      },\r\n    ],\r\n  });\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  useEffect(() => {\r\n    const fetchData = async () => {\r\n      const result = await axios.get('http://bmomark.com:8080/api/user/' + user);\r\n      console.log(result);\r\n      setProfile(result.data);\r\n      avatarEdit(result.data.avatar);\r\n    };\r\n    fetchData();\r\n  }, []);\r\n\r\n  // const activities = [\r\n  //   { pic: 'logo192.png', name:'', date: '2000-08-10', id: '1' },\r\n  //   { pic: 'logo192.png', name:'', date: '2000-08-10', id: '2' },\r\n  //   { pic: 'logo192.png', name:'', date: '2000-08-10', id: '3' },\r\n  // ];\r\n  const activities = profile.cardsTime;\r\n  \r\n  const [av, avatarEdit] = useState(null);\r\n  function avatarUpload(e) {\r\n    avatarEdit(URL.createObjectURL(e.target.files[0]));\r\n    const uploadFileRef = myStorage.ref().child(user).put(e.target.files[0]);\r\n    uploadFileRef.on(\r\n      'state_changed',\r\n      null,\r\n      () => {\r\n        alert('invalid avatar pic');\r\n      },\r\n      () => {\r\n        uploadFileRef.snapshot.ref.getDownloadURL().then((url) => {\r\n          myFirestore.collection('Users').doc(user).update({ avatar: url });\r\n        });\r\n      }\r\n    );\r\n  }\r\n  // const [al, albumEdit] = useState();\r\n  function albumUpload(e) {\r\n    setIsLoading(true);\r\n    const uploadFileRef = myStorage\r\n      .ref()\r\n      .child(user + '/' + e.target.files[0].name)\r\n      .put(e.target.files[0]);\r\n    uploadFileRef.on(\r\n      'state_changed',\r\n      null,\r\n      (err) => {\r\n        alert('invalid album pic');\r\n      },\r\n      () => {\r\n        uploadFileRef.snapshot.ref.getDownloadURL().then((url) => {\r\n          console.log(url);\r\n          profile.album.push(url);\r\n          myFirestore\r\n            .collection('Users')\r\n            .doc(user)\r\n            .update({ album: profile.album })\r\n            .then(() => history.push(0));\r\n        });\r\n        setIsLoading(false);\r\n      }\r\n    );\r\n  }\r\n\r\n  function albumDelete(e) {\r\n    //not deleting file from the storage. Fix later enji\r\n    console.log(e.target.id);\r\n    console.log(e.target.id);\r\n    setIsLoading(true);\r\n    let newAlbum = [];\r\n    profile.album.forEach((element) => {\r\n      if (element !== e.target.id) newAlbum.push(element);\r\n    });\r\n    myFirestore\r\n      .collection('Users')\r\n      .doc(user)\r\n      .update({ album: newAlbum })\r\n      .then((response) => {\r\n        profile.album = newAlbum;\r\n        console.log(response);\r\n        setIsLoading(false);\r\n      })\r\n      .catch((error) => console.log(error));\r\n  }\r\n  return user !== null ? (\r\n    profile ? (\r\n      <FixedContainer>\r\n        <button\r\n          style={{\r\n            maxWidth: '90%',\r\n            position: 'fixed',\r\n            top: '2.5vh',\r\n            right: '3vh',\r\n            background: '#54BEF5',\r\n            fontSize: '0.75em',\r\n            color: 'white',\r\n            padding: '1vw 3vw',\r\n            textTransform: 'none',\r\n            border:'none'\r\n          }}\r\n          onClick={() => history.push(`/Login`)}\r\n        >\r\n          Log Out\r\n        </button>\r\n        <div\r\n          style={{\r\n            display: 'flex',\r\n            flexDirection: 'column',\r\n            alignItems: 'center',\r\n          }}\r\n        >\r\n          <Badge\r\n            overlap=\"circle\"\r\n            anchorOrigin={{\r\n              vertical: 'bottom',\r\n              horizontal: 'right',\r\n            }}\r\n            badgeContent={\r\n              <div className=\"image-upload\">\r\n                <label htmlFor=\"file-input\">\r\n                  <SettingsIcon></SettingsIcon>\r\n                </label>\r\n                <input\r\n                  id=\"file-input\"\r\n                  type=\"file\"\r\n                  accept=\"image/*\"\r\n                  style={{ display: 'none' }}\r\n                  onChange={avatarUpload}\r\n                />\r\n              </div>\r\n            }\r\n          >\r\n            <Avatar\r\n              src={\r\n                av\r\n                  ? av\r\n                  : null\r\n              }\r\n              style={{ width: '17vw', height: '17vw', margin: '1.5vh' }}\r\n            ></Avatar>\r\n          </Badge>\r\n          Your page\r\n          <div style={{ width: '85vw', margin: '3vh 0' }}>\r\n            Your Album\r\n            <div\r\n              style={{\r\n                display: 'flex',\r\n                flexWrap: 'wrap',\r\n                width: '100%',\r\n                height: '60vw',\r\n              }}\r\n            >\r\n              {profile.album ? (\r\n                profile.album.map((photo) => (\r\n                  <div\r\n                    key={photo}\r\n                    style={{\r\n                      width: '30%',\r\n                      height: '50%',\r\n                      margin: '5px',\r\n                      textAlign: 'right',\r\n                    }}\r\n                  >\r\n                    <img\r\n                      style={{\r\n                        width: '100%',\r\n                        height: '80%',\r\n                      }}\r\n                      src={photo}\r\n                    ></img>\r\n                    <IndeterminateCheckBoxOutlinedIcon\r\n                      id={photo}\r\n                      onClick={albumDelete}\r\n                      fontSize=\"small\"\r\n                      style={{ fontSize: '4vw', marginTop: '-5px' }}\r\n                    ></IndeterminateCheckBoxOutlinedIcon>\r\n                  </div>\r\n                ))\r\n              ) : (\r\n                <div></div>\r\n              )}\r\n              {(profile && profile.album && profile.album.length < 6) ||\r\n              !profile.album ? (\r\n                <div\r\n                  style={{\r\n                    backgroundColor: '#C4C4C4',\r\n                    width: '30%',\r\n                    height: '40%',\r\n                    display: 'flex',\r\n                    justifyContent: 'center',\r\n                    alignItems: 'center',\r\n                    borderRadius: '3%',\r\n                    margin: '5px',\r\n                  }}\r\n                >\r\n                  <label htmlFor=\"album-input\">\r\n                    <AddBoxOutlinedIcon\r\n                      style={{ color: 'white', marginTop: '5px' }}\r\n                    />\r\n                  </label>\r\n                  <input\r\n                    id=\"album-input\"\r\n                    type=\"file\"\r\n                    accept=\"image/*\"\r\n                    style={{ display: 'none' }}\r\n                    onChange={albumUpload}\r\n                  />\r\n                </div>\r\n              ) : (\r\n                <div></div>\r\n              )}\r\n            </div>\r\n          </div>\r\n          <div>\r\n            <div style={{ margin: '2.5vh 0' }}>Your Footprints</div>\r\n            <FootPrint activities={activities} />\r\n          </div>\r\n        </div>\r\n        {isLoading ? (\r\n          <div className=\"viewLoading\">\r\n            <ReactLoading\r\n              type={'spin'}\r\n              color={'#203152'}\r\n              height={'10%'}\r\n              width={'10%'}\r\n            />\r\n          </div>\r\n        ) : null}\r\n      </FixedContainer>\r\n    ) : (\r\n      <div className=\"viewLoading\">\r\n        <ReactLoading\r\n          type={'spin'}\r\n          color={'#203152'}\r\n          height={'10%'}\r\n          width={'10%'}\r\n        />\r\n      </div>\r\n    )\r\n  ) : (\r\n    <FixedContainer>\r\n      <div\r\n        style={{\r\n          display: 'flex',\r\n          alignItems: 'center',\r\n          justifyContent: 'space-between',\r\n          width: '90vw',\r\n          fontSize: '1.4em',\r\n        }}\r\n      >\r\n        <strong>Profile Page</strong>\r\n      </div>\r\n      <button\r\n        onClick={() => (window.location = '/Login')}\r\n        style={{\r\n          backgroundColor: '#54BEF5',\r\n          fontSize: '1em',\r\n          color: 'white',\r\n          padding: '3vw',\r\n          border: 'none',\r\n          marginTop: '30vh',\r\n          width: '100%',\r\n        }}\r\n      >\r\n        You Haven't Logged In, Please Click Me To Log In\r\n      </button>\r\n    </FixedContainer>\r\n  );\r\n}\r\n","import React,{useState,useEffect} from 'react';\r\nimport { Button, IconButton, ButtonBase } from '@material-ui/core';\r\nimport DeleteSweepIcon from '@material-ui/icons/DeleteSweep';\r\nimport AssignmentTurnedInOutlinedIcon from '@material-ui/icons/AssignmentTurnedInOutlined';\r\nimport { Link, useHistory } from 'react-router-dom';\r\nimport Popover from '@material-ui/core/Popover';\r\nimport axios from 'axios';\r\nexport default function ToDoCard(props) {\r\n  const history = useHistory();\r\n  const cardStyle = {\r\n    border: '0.5vw dashed #54BEF5',\r\n    borderRadius: '12%',\r\n    width: '35vw',\r\n    height: '50vw',\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    alignItems: 'center',\r\n    padding: '1.3vw',\r\n    margin: '3.6vw 4.8vw',\r\n  };\r\n\r\n  const imgStyle = {\r\n    width: '21vw',\r\n    height: '21vw',\r\n    position: 'center',\r\n  };\r\n\r\n\r\n  let cardName = props.cardName ? props.cardName : 'Title';\r\n  let id = props.id ? props.id : '1';\r\n  let tagIds = props.tags ? props.tags : [];\r\n  let user=sessionStorage.getItem('id');\r\n  let pass = sessionStorage.getItem('pass');\r\n\r\n  const [tags,setTag]=useState([]);\r\n\r\n  let request =[]\r\n  tagIds.forEach(element => {\r\n    request.push(axios.get(`http://bmomark.com:8080/api/card/tag/${element}`));\r\n  });\r\n  \r\n  useEffect(() => {\r\n    const fetchData = async function() {\r\n        const response = await axios.all(request);     \r\n        setTag(response);\r\n    };  \r\n    \r\n      fetchData();\r\n  }, [tagIds]);\r\n\r\n  const [image, setImage] = useState(\r\n    {\r\n      imageUrl: 'https://images.pexels.com/photos/5075068/pexels-photo-5075068.jpeg?cs=srgb&dl=pexels-max-avans-5075068.jpg&fm=jpg',\r\n      imageId: 'imageId'\r\n    }\r\n  );\r\n  useEffect(() => {\r\n    const fetchData = async () => {\r\n      const result = await axios.get(\r\n        `http://bmomark.com:8080/api/image/${props.url}`\r\n      );\r\n      if(result.data!==\"\")\r\n        setImage(result.data.imageUrl);\r\n    };\r\n    fetchData();\r\n  }, [props.url]);\r\n\r\n  const [Delete, setDelete] = React.useState(null);\r\n  const [Complete, setComplete] = React.useState(null);\r\n\r\n  const handleDeleteClose = () => {\r\n    setDelete(null);\r\n  };\r\n\r\n  const handleCompleteClose = () => {\r\n    setComplete(null);\r\n  };\r\n\r\n  const Deleteopen = Boolean(Delete);\r\n  const Deleteid = Deleteopen ? 'delete' : undefined;\r\n  const Completeopen = Boolean(Complete);\r\n  const completeId = Completeopen ? 'complete' : undefined;\r\n\r\n  function deleteTodo() {\r\n\r\n    axios\r\n      .post('http://bmomark.com:8080/api/user/todo/remove', {\r\n        cardId:id,\r\n        userCred:{\"userId\":user,\r\n          \"password\": pass}})\r\n      .then((response) => {\r\n        if (!response) {\r\n          alert('something is wrong');\r\n        }\r\n        window.location.reload();\r\n      }).catch((error)=>console.log(error));\r\n  }\r\n  function complete(){\r\n    axios.post('http://bmomark.com:8080/api/user/todo/mark',{\r\n      cardId:id,\r\n      userCred:{\"userId\":user,\r\n        \"password\": pass}\r\n      })\r\n      .then((response)=>{\r\n        if(!response){\r\n          alert('something is wrong');\r\n        }\r\n      });\r\n    history.push(`/Completed/${id}`);\r\n  }\r\n  \r\n  return (\r\n    <Link\r\n      to={`/ActivityCard/${id}`}\r\n      style={{ textDecoration: 'none', color: 'black' }}\r\n    >\r\n      <div style={cardStyle}>\r\n        <div className=\"title\" style={{ fontSize: '4.3vw' }}>\r\n          {cardName}\r\n        </div>\r\n        <img src={image} style={imgStyle}></img>\r\n        <div\r\n          className=\"tags\"\r\n          style={{\r\n            width: '90%',\r\n            height: '18%',\r\n            wordWrap: 'break-word',\r\n            margin: '0.5vw 0vw 1.8vw 0vw ',\r\n            fontSize: '3vw',\r\n            textAlign: 'center',\r\n          }}\r\n        >\r\n          {tags.map((tag)=>'#'+tag.data.tagName+' ')}\r\n        </div>\r\n        <div\r\n          style={{\r\n            display: 'flex',\r\n            justifyContent: 'space-between',\r\n            width: '90%',\r\n            margin: 'auto',\r\n          }}\r\n        >\r\n          {/* rerender the whole page once deleted */}\r\n          <IconButton\r\n            style={{ padding: '0' }}\r\n            onClick={(e) => {\r\n              e.preventDefault();\r\n              setDelete(e.currentTarget);\r\n            }}\r\n          >\r\n            <DeleteSweepIcon\r\n              style={{ color: '#DB5353', fontSize: '1.4em' }}\r\n            ></DeleteSweepIcon>\r\n          </IconButton>\r\n\r\n          <Popover\r\n            id={Deleteid}\r\n            open={Deleteopen}\r\n            anchorEl={Delete}\r\n            onClose={handleCompleteClose}\r\n            anchorOrigin={{\r\n              vertical: 'left',\r\n              horizontal: 'left',\r\n            }}\r\n            onClick={(e) => {\r\n              e.preventDefault();\r\n            }}\r\n          >\r\n            <div\r\n              style={{\r\n                padding: '5px',\r\n                backgroundColor: '#54BEF5',\r\n                color: 'white',\r\n                textAlign: 'center',\r\n              }}\r\n              onClick={(e) => {\r\n                e.preventDefault();\r\n              }}\r\n            >\r\n              Delete This Card?\r\n              <div>\r\n                <Button style={{ color: 'white' }} onClick={deleteTodo}>\r\n                  Yes\r\n                </Button>\r\n                <Button\r\n                  style={{ color: 'white' }}\r\n                  onClick={() => setDelete(null)}\r\n                >\r\n                  No\r\n                </Button>\r\n              </div>\r\n            </div>\r\n          </Popover>\r\n\r\n          <IconButton\r\n            style={{ padding: '0' }}\r\n            onClick={(e) => {\r\n              e.preventDefault();\r\n              setComplete(e.currentTarget);\r\n            }}\r\n          >\r\n            <AssignmentTurnedInOutlinedIcon\r\n              style={{ color: '54BEF5', fontSize: '1.4em' }}\r\n            />\r\n          </IconButton>\r\n\r\n          <Popover\r\n            id={completeId}\r\n            open={Completeopen}\r\n            anchorEl={Complete}\r\n            onClose={handleDeleteClose}\r\n            anchorOrigin={{\r\n              vertical: 'center',\r\n              horizontal: 'center',\r\n            }}\r\n            onClick={(e) => {\r\n              e.preventDefault();\r\n            }}\r\n          >\r\n            <div\r\n              style={{\r\n                padding: '5px',\r\n                backgroundColor: '#54BEF5',\r\n                color: 'white',\r\n                textAlign: 'center',\r\n                display: 'flex',\r\n                flexDirection: 'column',\r\n                alignItems: 'center',\r\n              }}\r\n              onClick={(e) => {\r\n                e.preventDefault();\r\n              }}\r\n            >\r\n              Completed?\r\n              <div style={{ display: 'flex', justifyContent: 'center' }}>\r\n                <ButtonBase\r\n                 onClick={complete}\r\n                  style={{ color: 'white', margin: '5px 15px' }}\r\n                >\r\n                  YES\r\n                </ButtonBase>\r\n                <ButtonBase\r\n                  style={{ color: 'white', margin: '5px 15px' }}\r\n                  onClick={() => setComplete(null)}\r\n                >\r\n                  NO\r\n                </ButtonBase>\r\n              </div>\r\n            </div>\r\n          </Popover>\r\n        </div>\r\n      </div>\r\n    </Link>\r\n  );\r\n}\r\n","import React, { useState, useEffect } from 'react';\r\nimport FixedContainer from '../FixedContainer.js';\r\nimport ToDoCard from './ToDoCard';\r\nimport AddBoxIcon from '@material-ui/icons/AddBox';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport axios from 'axios';\r\n\r\nexport default function ToDoListTab(props) {\r\n  let user = sessionStorage.getItem('id');\r\n  let pass = sessionStorage.getItem('pass');\r\n\r\n  const [currentTodo, setCurrent] = useState(undefined);\r\n\r\n  useEffect(() => {\r\n    const fetchData = async () => {\r\n      const result = await axios.get(\r\n        'http://bmomark.com:8080/api/user/todo/list',\r\n        { params: { userId: user, password: pass } }\r\n      );\r\n\r\n      setCurrent(result.data);\r\n      console.log(result);\r\n    };\r\n    if (user && pass) fetchData();\r\n  }, []);\r\n\r\n  return user !== null ? (\r\n    currentTodo != undefined && currentTodo != null ? (\r\n      <FixedContainer>\r\n        <div\r\n          style={{\r\n            display: 'flex',\r\n            alignItems: 'center',\r\n            justifyContent: 'space-between',\r\n            width: '90vw',\r\n            fontSize: '1.4em',\r\n          }}\r\n        >\r\n          <strong>My List</strong>\r\n        </div>\r\n\r\n        {/*  This is to make the cards at the same level with those in the homepage */}\r\n        <div style={{ display: 'hidden', marginTop: '0.7vw' }}>\r\n          <IconButton style={{ padding: '0' }} href=\"/AddActivity\"></IconButton>\r\n        </div>\r\n\r\n        <div\r\n          className=\"display\"\r\n          style={{\r\n            display: 'flex',\r\n            flexWrap: 'wrap',\r\n            position: 'relative',\r\n            bottom: '1.2vw',\r\n          }}\r\n        >\r\n          {currentTodo.map((card) => {\r\n            return (\r\n              <ToDoCard\r\n                key={card.cardId}\r\n                id={card.cardId}\r\n                url={card.activityImageId}\r\n                tags={card.relatedTagsId}\r\n                cardName={card.activityName}\r\n              />\r\n            );\r\n          })}\r\n        </div>\r\n      </FixedContainer>\r\n    ) : (\r\n      <div>Loading</div>\r\n    )\r\n  ) : (\r\n    <FixedContainer>\r\n      <div\r\n        style={{\r\n          display: 'flex',\r\n          alignItems: 'center',\r\n          justifyContent: 'space-between',\r\n          width: '90vw',\r\n          fontSize: '1.4em',\r\n        }}\r\n      >\r\n        <strong>My List</strong>\r\n      </div>\r\n      <button\r\n        onClick={() => (window.location = '/Login')}\r\n        style={{\r\n          backgroundColor: '#54BEF5',\r\n          fontSize: '1em',\r\n          color: 'white',\r\n          padding: '3vw',\r\n          border: 'none',\r\n          marginTop: '30vh',\r\n          width: '100%',\r\n        }}\r\n      >\r\n        You Haven't Logged In, Please Click Me To Log In\r\n      </button>\r\n    </FixedContainer>\r\n  );\r\n}\r\n","import React from 'react';\r\nimport Box from '@material-ui/core/Box';\r\n\r\nclass Picture extends React.Component{\r\n    constructor(props){\r\n        super(props);\r\n    }\r\n    static defaultProps = {\r\n        width: \"21%\",\r\n        height: \"50px\"\r\n    }\r\n    render(){\r\n        const myStyle={\r\n            margin: 'auto',\r\n            display: 'inlineBlock',\r\n            height: this.props.height,\r\n            backgroundColor: 'white',\r\n            borderRadius: this.props.radius\r\n        };\r\n        return(\r\n            <Box style={{textAlign: 'center'}}>\r\n                <img src=\"/logo192.png\" style={myStyle}></img>\r\n                {this.props.children}\r\n            </Box>\r\n        )\r\n    }\r\n}\r\nexport default Picture;","import React, { useState, useEffect } from 'react';\r\nimport FixedContainer from '../FixedContainer.js';\r\nimport axios from 'axios';\r\nimport moment from 'moment';\r\nimport ReactLoading from 'react-loading';\r\nimport { useParams } from 'react-router-dom';\r\nimport { myFirestore, myStorage } from '../Config/MyFirebase';\r\nimport './Chat.css';\r\nimport Avatar from '@material-ui/core/Avatar';\r\nimport PanoramaIcon from '@material-ui/icons/Panorama';\r\nimport SendIcon from '@material-ui/icons/Send';\r\nexport default function ChatBoard(props) {\r\n  useEffect(() => {\r\n    // console.log('useEffect');\r\n    setIsLoading(true);\r\n    getListHistory();\r\n    scrollToBottom();\r\n  }, []);\r\n\r\n  const [inputValue, setInputValue] = useState('');\r\n  const [listMessage, setlistMessage] = useState([]);\r\n  const [uploadPhoto, setUploadPhoto] = useState(null);\r\n  const [isLoading, setIsLoading] = useState(true);\r\n  const [messagesEnd, setMessagesEnd] = useState(null);\r\n  let listener = null;\r\n\r\n  //scroll to bottom, which uses ref\r\n\r\n  const getListHistory = () => {\r\n    setIsLoading(true);\r\n    // console.log('getListHistory');\r\n    // console.log(listMessage);\r\n    if (listener) {\r\n      listener();\r\n    }\r\n    // setlistMessage([]);\r\n    listMessage.length = 0;\r\n    setIsLoading(true);\r\n    listener = myFirestore\r\n      .collection('myChats')\r\n      .doc(props.chatId)\r\n      .collection(props.chatId)\r\n      .onSnapshot(\r\n        (snapshot) => {\r\n          snapshot.docChanges().forEach((change) => {\r\n            if (change.type === 'added') {\r\n              listMessage.push(change.doc.data());\r\n              // console.log('change');\r\n            }\r\n          });\r\n          setIsLoading(true);\r\n          setIsLoading(false);\r\n          // console.log(listMessage, 'on snapshot');\r\n        },\r\n        (err) => {\r\n          console.log(err);\r\n        }\r\n      );\r\n  };\r\n\r\n  const onKeyboardPress = (event) => {\r\n    //if it's enter, send input over\r\n    if (event.key === 'Enter') {\r\n      onSendMessage(inputValue, 0);\r\n    }\r\n  };\r\n\r\n  const onSendMessage = (content, type) => {\r\n    //type === 0 means message\r\n    //type === 1 means image\r\n    // console.log(content);\r\n    if (content.trim() === '') {\r\n      return;\r\n    }\r\n    const timestamp = moment().valueOf().toString();\r\n    const itemMessage = {\r\n      idFrom: props.user,\r\n      idTo: props.userOtherId,\r\n      timestamp: timestamp,\r\n      content: content.trim(),\r\n      type: type,\r\n    };\r\n    myFirestore\r\n      .collection('myChats')\r\n      .doc(props.chatId)\r\n      .collection(props.chatId)\r\n      .doc(timestamp)\r\n      .set(itemMessage)\r\n      .then(() => {\r\n        setInputValue('');\r\n        if (type == 1) {\r\n          setUploadPhoto(null);\r\n        }\r\n        // console.log('Success sent a message');\r\n      })\r\n      .then(\r\n        // console.log(new Date().toLocaleDateString())\r\n        myFirestore\r\n          .collection('myChats')\r\n          .doc(props.chatId)\r\n          .update({\r\n            lastActiveTimeStamp: new Date().toLocaleDateString(),\r\n            lastMessage: content.trim()\r\n          })\r\n      )\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n    \r\n    \r\n\r\n\r\n  };\r\n  const renderListMessage = () => {\r\n    // console.log(\"rendering messages\");\r\n    // console.log(listMessage);\r\n    if (listMessage.length == 0) {\r\n      // console.log('renderListMessage no message available');\r\n      return (\r\n        <div style={{marginTop:'5vh',textAlign:'center'}}>\r\n          <div >Say hi to new friend</div>\r\n        </div>\r\n      );\r\n    } else {\r\n      // console.log('renderListMessage YES message available');\r\n      let viewListMessage = [];\r\n      listMessage.forEach((item, index) => {\r\n        if (item.idFrom === props.user) {\r\n          if (item.type === 0) {\r\n            viewListMessage.push(\r\n              <div\r\n                style={{\r\n                  display: 'flex',\r\n                  alignItems: 'center',\r\n                  flexDirection: 'row-reverse',\r\n                  alignItems: 'center',\r\n                }}\r\n              >\r\n                <Avatar\r\n                  alt={props.myAvatar}\r\n                  src={\r\n                    props.myAvatar !=='f9396883-8b6b-449f-97db-4ce4929b97fe'\r\n                    ? props.myAvatar\r\n                    : null\r\n                  }\r\n                  style={{ width: '10vw', height: '10vw', marginRight: '5vw' }}\r\n                ></Avatar>\r\n                <div className=\"messageItemRight\" key={item.timestamp}>\r\n                  <span className=\"textContentInMessage\">{item.content}</span>\r\n                </div>\r\n              </div>\r\n            );\r\n          } else if (item.type === 1) {\r\n            //image\r\n            viewListMessage.push(\r\n              <div\r\n                style={{\r\n                  display: 'flex',\r\n                  alignItems: 'center',\r\n                  flexDirection: 'row-reverse',\r\n                  alignItems: 'center',\r\n                }}\r\n              >\r\n                <Avatar\r\n                  alt={props.myAvatar}\r\n                  src={\r\n                    props.myAvatar !=='f9396883-8b6b-449f-97db-4ce4929b97fe'\r\n                    ? props.myAvatar\r\n                    : null\r\n                  }\r\n                  style={{ width: '10vw', height: '10vw', marginRight: '5vw' }}\r\n                ></Avatar>\r\n                <div className=\"messageItemRightWithImage\" key={item.timestamp}>\r\n                  <img\r\n                    className=\"imageContentInMessageRight\"\r\n                    src={item.content}\r\n                    alt=\"user's photo\"\r\n                  ></img>\r\n                </div>\r\n              </div>\r\n            );\r\n          }\r\n        } else {\r\n          if (item.type === 0) {\r\n            viewListMessage.push(\r\n              <div\r\n                style={{\r\n                  display: 'flex',\r\n                  alignItems: 'center',\r\n                  alignItems: 'center',\r\n                }}\r\n              >\r\n                <Avatar\r\n                  alt={props.otherAvatar}\r\n                  src={\r\n                    props.otherAvatar\r\n                      ? props.otherAvatar!=='f9396883-8b6b-449f-97db-4ce4929b97fe'\r\n                      : null\r\n                  }\r\n                  style={{ width: '10vw', height: '10vw', margin: '5vw' }}\r\n                ></Avatar>\r\n                <div className=\"messageItemLeft\" key={item.timestamp}>\r\n                  <span className=\"textContentInMessage\">{item.content}</span>\r\n                </div>\r\n              </div>\r\n            );\r\n          } else if (item.type === 1) {\r\n            //image\r\n            viewListMessage.push(\r\n              <div\r\n                style={{\r\n                  display: 'flex',\r\n                  alignItems: 'center',\r\n                  alignItems: 'center',\r\n                }}\r\n              >\r\n                <Avatar\r\n                  alt={props.otherAvatar}\r\n                  src={\r\n                    props.otherAvatar !=='f9396883-8b6b-449f-97db-4ce4929b97fe'\r\n                      ? props.otherAvatar\r\n                      : null\r\n                  }\r\n                  style={{ width: '10vw', height: '10vw', margin: '0 5vw' }}\r\n                ></Avatar>\r\n                <div className=\"messageItemLeftWithImage\" key={item.timestamp}>\r\n                  <img\r\n                    className=\"imageContentInMessageLeft\"\r\n                    src={item.content}\r\n                    alt=\"user's photo\"\r\n                  ></img>\r\n                </div>\r\n              </div>\r\n            );\r\n          }\r\n        }\r\n      });\r\n\r\n      return viewListMessage;\r\n    }\r\n  };\r\n\r\n  const onChoosePhoto = (eve) => {\r\n    if (eve.target.files && eve.target.files[0]) {\r\n      // console.log(eve.target.files[0]);\r\n      setUploadPhoto(eve.target.files[0]);\r\n    } else {\r\n      console.log(\"Didn't select an image\");\r\n    }\r\n  };\r\n\r\n  const onUploadingPhoto = () => {\r\n    setIsLoading(true);\r\n    // console.log(uploadPhoto);\r\n    document.getElementById('onMessageSendImage').value = '';\r\n    if (uploadPhoto) {\r\n      const timestamp = moment().valueOf().toString();\r\n      const uploadFileRef = myStorage.ref().child(timestamp).put(uploadPhoto);\r\n\r\n      uploadFileRef.on(\r\n        'state_changed',\r\n        null,\r\n        (err) => {\r\n          setIsLoading(false);\r\n          console.log('Upload failed: ', err);\r\n        },\r\n        () => {\r\n          uploadFileRef.snapshot.ref.getDownloadURL().then((url) => {\r\n            setIsLoading(false);\r\n            // console.log(url);\r\n            onSendMessage(url, 1);\r\n          });\r\n        }\r\n      );\r\n    } else {\r\n      onSendMessage(inputValue, 0);\r\n    }\r\n  };\r\n  \r\n  const scrollToBottom = () => {\r\n    if (messagesEnd) {\r\n        messagesEnd.scrollIntoView({})\r\n    }\r\n  }\r\n  return (\r\n    <div className=\"viewChatBoard\">\r\n      <div className=\"viewListMessage\">\r\n        {renderListMessage()}\r\n        <div\r\n            style={{float: 'left', clear: 'both'}}\r\n            ref={el => {\r\n                setMessagesEnd(el)\r\n            }}\r\n        />\r\n      </div>\r\n      <div\r\n        style={{\r\n          position: 'fixed',\r\n          bottom: '0',\r\n          width: '100%',\r\n          height: '10vh',\r\n          backgroundColor: '#54BEF5',\r\n          display: 'flex',\r\n          alignItems: 'center',\r\n          justifyContent: 'space-evenly',\r\n        }}\r\n      >\r\n        <input\r\n          className=\"viewInput\"\r\n          placeholder=\"Type your message...\"\r\n          value={inputValue}\r\n          onChange={(event) => {\r\n            setInputValue(event.target.value);\r\n          }}\r\n          style={{ border: 'none', height: '3.9vh', width: '50vw' }}\r\n          onKeyPress={onKeyboardPress}\r\n        />\r\n        <div className=\"image-upload\">\r\n          <label\r\n            htmlFor=\"onMessageSendImage\"\r\n            style={{ position: 'relative', top: '2px' }}\r\n          >\r\n            <PanoramaIcon style={{ color: 'white' }}></PanoramaIcon>\r\n          </label>\r\n          <input\r\n            type=\"file\"\r\n            id=\"onMessageSendImage\"\r\n            name=\"onMessageSendImage\"\r\n            accept=\"image/*\"\r\n            style={{ display: 'none' }}\r\n            onChange={onChoosePhoto}\r\n          />\r\n        </div>\r\n        <SendIcon\r\n          onClick={onUploadingPhoto}\r\n          style={{ color: 'white', height: '3.6vh' }}\r\n        ></SendIcon>\r\n\r\n        {/* Loading */}\r\n        {isLoading ? (\r\n          <div className=\"viewLoading\">\r\n            <ReactLoading\r\n              type={'spin'}\r\n              color={'#203152'}\r\n              height={'10%'}\r\n              width={'10%'}\r\n            />\r\n          </div>\r\n        ) : null}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import React, { useState, useEffect, Component } from 'react';\r\nimport FixedContainer from '../FixedContainer.js';\r\nimport Picture from '../Picture.js';\r\nimport { withRouter } from 'react-router-dom';\r\nimport axios from 'axios';\r\nimport ChatBoard from './ChatBoard';\r\nimport ReactLoading from 'react-loading';\r\nimport './Chat.css';\r\nimport ReplyIcon from '@material-ui/icons/Reply';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport Avatar from '@material-ui/core/Avatar';\r\n\r\nclass ChatsTab extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      isLoading: true,\r\n      chattingOther: null,\r\n      chattingId: null,\r\n      otherAvatar: null,\r\n      myAvatar: 'I',\r\n      chatName: null,\r\n    };\r\n\r\n    this.currentUserId = sessionStorage.getItem('id');\r\n    this.userList = [];\r\n    this.chatList = [];\r\n    this.chatInfoList = [];\r\n    this.requestList = '0';\r\n    // this.history = useHistory();\r\n  }\r\n  componentDidMount() {\r\n    if (this.currentUserId !== null) this.fetchData();\r\n    if (this.currentUserId !== null) this.fatchRequests();\r\n  }\r\n\r\n  fatchRequests = async () => {\r\n    const result = await axios.get(\r\n      `http://bmomark.com:8080/api/chat/request?userId=${sessionStorage.getItem(\r\n        'id'\r\n      )}&password=${sessionStorage.getItem('pass')}`\r\n    );\r\n    if (result.data !== '') {\r\n      this.requestList = result.data.length.toString();\r\n      this.setState({ isLoading: false });\r\n    }\r\n  };\r\n\r\n  fetchData = async () => {\r\n    const result = await axios(\r\n      'http://bmomark.com:8080/api/user/' + this.currentUserId\r\n    );\r\n    //console.log(result.data.chats);\r\n    // this.setState({chatData: result.data.chats});\r\n    this.chatList = result.data.chats;\r\n    this.myAvatar = result.data.avatar;\r\n    this.fecthUserBasedOnChat();\r\n  };\r\n\r\n  fecthUserBasedOnChat = async () => {\r\n    for (let ele of this.chatList) {\r\n      const Chat = await axios('http://bmomark.com:8080/api/chat/' + ele);\r\n      // //console.log(Chat.data.users);\r\n      let userOther = null;\r\n      if (Chat.data.users[0] != this.currentUserId) {\r\n        userOther = await axios(\r\n          'http://bmomark.com:8080/api/user/' + Chat.data.users[0]\r\n        );\r\n      } else {\r\n        userOther = await axios(\r\n          'http://bmomark.com:8080/api/user/' + Chat.data.users[1]\r\n        );\r\n      }\r\n      this.userList.push(userOther.data);\r\n      this.chatInfoList.push({\r\n        lastActiveTimeStamp: Chat.data.lastActiveTimeStamp,\r\n        lastMessage: Chat.data.lastMessage,\r\n      });\r\n    }\r\n    this.setState({ isLoading: false });\r\n  };\r\n\r\n  renderUserList() {\r\n    if (this.userList.length > 0) {\r\n      let viewListUser = [];\r\n      this.userList.forEach((item, index) => {\r\n        viewListUser.push(\r\n          <div\r\n            style={{\r\n              display: 'flex',\r\n              alignItems: 'center',\r\n              justifyContent: 'space-between',\r\n              margin:'5px',\r\n              height:'9vh'\r\n            }}\r\n            key={index}\r\n            onClick={() => {\r\n              this.setState({\r\n                chattingOther: item.userId,\r\n                chattingId: this.chatList[index],\r\n                otherAvatar: item.avatar,\r\n                chatName: item.userName,\r\n              });\r\n            }}\r\n          >\r\n            \r\n              <Avatar\r\n                alt={item.avatar.toString()}\r\n                src={\r\n                  item.avatar!=='f9396883-8b6b-449f-97db-4ce4929b97fe'\r\n                  ? item.avatar\r\n                  : null\r\n                }\r\n                style={{\r\n                  width: '15vw',\r\n                  height: '15vw',\r\n              \r\n                  \r\n                }}\r\n              ></Avatar>\r\n              <strong>{item.userName}</strong>\r\n              <div style={{ marginLeft: '10px',width:'35%',overflow:'hidden'}}>{this.chatInfoList[index]['lastMessage']} </div>\r\n\r\n              <span style={{ marginLeft: '30px', fontSize: '0.8em',color:'grey' }}>\r\n                {this.chatInfoList[index]['lastActiveTimeStamp']}\r\n              </span>\r\n            \r\n          </div>\r\n        );\r\n      });\r\n      return viewListUser;\r\n    }\r\n  }\r\n\r\n  render() {\r\n    return this.currentUserId !== null ? (\r\n      <div>\r\n        {this.state.chattingId ? (\r\n          <div>\r\n            <div\r\n              style={{\r\n                backgroundColor: '#F8F8F8',\r\n                paddingTop: '5px',\r\n                position: 'fixed',\r\n                zIndex: '10',\r\n                height: '6vh',\r\n                width: '100%',\r\n              }}\r\n            >\r\n              <IconButton\r\n                onClick={() => {\r\n                  this.setState({\r\n                    chattingId: null,\r\n                    otherAvatar:\r\n                      'https://material-ui.com/static/images/avatar/1.jpg',\r\n                    chatName: 'Somebody',\r\n                  });\r\n                }}\r\n              >\r\n                <ReplyIcon style={{ color: '#54BEF5', fontSize: '7vw' }} />\r\n              </IconButton>\r\n              <span style={{ marginLeft: '35vw' }}>{this.state.chatName}</span>\r\n            </div>\r\n\r\n            <ChatBoard\r\n              chatId={this.state.chattingId}\r\n              userOtherId={this.state.chattingOther}\r\n              user={this.currentUserId}\r\n              otherAvatar={this.otherAvatar}\r\n              myAvatar={this.myAvatar}\r\n              key={this.state.chattingOther}\r\n            />\r\n          </div>\r\n        ) : (\r\n          <FixedContainer>\r\n            <div\r\n              style={{\r\n                display: 'flex',\r\n                alignItems: 'center',\r\n                justifyContent: 'space-between',\r\n                width: '90vw',\r\n                fontSize: '1.4em',\r\n              }}\r\n            >\r\n              <strong>Chat</strong>\r\n\r\n              <IconButton\r\n                onClick={() => {\r\n                  this.props.history.push('/Chats/Request');\r\n                }}\r\n              >\r\n                {' '}\r\n                <Avatar\r\n                  style={this.requestList!=='0'?{\r\n                    backgroundColor: 'red',\r\n                    width: '7.6vw',\r\n                    height: '7.6vw',\r\n                  }:{\r\n                  backgroundColor: 'grey',\r\n                  width: '7.6vw',\r\n                  height: '7.6vw',\r\n                }}\r\n                >\r\n                  {this.requestList}\r\n                </Avatar>{' '}\r\n              </IconButton>\r\n            </div>\r\n            <br></br>\r\n            {this.renderUserList()}\r\n          </FixedContainer>\r\n        )}\r\n        {/* Loading */}\r\n        {this.state.isLoading ? (\r\n          <div className=\"viewLoading\">\r\n            <ReactLoading\r\n              type={'spin'}\r\n              color={'#203152'}\r\n              height={'10%'}\r\n              width={'10%'}\r\n            />\r\n          </div>\r\n        ) : null}\r\n      </div>\r\n    ) : (\r\n      <FixedContainer>\r\n        <div\r\n          style={{\r\n            display: 'flex',\r\n            alignItems: 'center',\r\n            justifyContent: 'space-between',\r\n            width: '90vw',\r\n            fontSize: '1.4em',\r\n          }}\r\n        >\r\n          <strong>Chat</strong>\r\n        </div>\r\n        <button\r\n          onClick={() => (window.location = '/Login')}\r\n          style={{\r\n            backgroundColor: '#54BEF5',\r\n            fontSize: '1em',\r\n            color: 'white',\r\n            padding: '3vw',\r\n            border: 'none',\r\n            marginTop: '30vh',\r\n            width: '100%',\r\n          }}\r\n        >\r\n          You Haven't Logged In, Please Click Me To Log In\r\n        </button>\r\n      </FixedContainer>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withRouter(ChatsTab);\r\n","import React, { useState, useEffect } from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport { Link } from 'react-router-dom';\r\nimport { useHistory } from 'react-router-dom';\r\nimport Button from '@material-ui/core/Button';\r\nimport axios from 'axios';\r\n\r\nexport default function GalleryCard(props) {\r\n  const useStyles = makeStyles({\r\n    root: {\r\n      background: '#54BEF5',\r\n      width: '28vw',\r\n      fontSize: '0.75em',\r\n      color: 'white',\r\n      padding: '3px',\r\n    },\r\n  });\r\n\r\n  const history = useHistory();\r\n  const classes = useStyles();\r\n  const cardStyle = {\r\n    border: '0.5vw dashed #54BEF5',\r\n    borderRadius: '12%',\r\n    width: '35vw',\r\n    height: '50vw',\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    alignItems: 'center',\r\n    padding: '1.3vw',\r\n    margin: '3.6vw 4.8vw',\r\n  };\r\n\r\n\r\n  const imgStyle = {\r\n    width: '21vw',\r\n    height: '21vw',\r\n    position: 'center',\r\n  };\r\n\r\n  let cardName=props.cardName?props.cardName:'Title';\r\n  let id=props.id?props.id:'2';\r\n  let tagIds=props.tags?props.tags:[];\r\n  let user=sessionStorage.getItem('id');\r\n  let pass = sessionStorage.getItem('pass');\r\n \r\n  const [tags,setTag]=useState([]);\r\n  let request =[]\r\n  tagIds.forEach(element => {\r\n    request.push(axios.get(`http://bmomark.com:8080/api/card/tag/${element}`));\r\n  });\r\n\r\n  const [image, setImage] = useState(\r\n    {\r\n      imageUrl: 'https://images.pexels.com/photos/5075068/pexels-photo-5075068.jpeg?cs=srgb&dl=pexels-max-avans-5075068.jpg&fm=jpg',\r\n      imageId: 'imageId'\r\n    }\r\n  );\r\n  useEffect(() => {\r\n    const fetchData = async () => {\r\n      const result = await axios.get(\r\n        `http://bmomark.com:8080/api/image/${props.url}`\r\n      );\r\n      if(result.data!==\"\")\r\n        setImage(result.data);\r\n    };\r\n    fetchData();\r\n  }, [props.url]);\r\n\r\n  useEffect(() => {\r\n    const fetchData = async function() {\r\n        const response = await axios.all(request);     \r\n        setTag(response);\r\n  \r\n    };  \r\n      fetchData();\r\n  }, [props.tags,props.canAdd]);\r\n\r\n\r\n\r\n  return (\r\n    <Link\r\n      to={`/ActivityCard/${id}`}\r\n      style={{ textDecoration: 'none', color: 'black' }}\r\n    >\r\n      <div style={cardStyle}>\r\n        <div className=\"title\" style={{ fontSize: '4.3vw' }}>\r\n          {cardName}\r\n        </div>\r\n        <img src={image.imageUrl} style={imgStyle}></img>\r\n        <div\r\n          className=\"tags\"\r\n          style={{\r\n            width: '90%',\r\n            height: '18%',\r\n            wordWrap: 'break-word',\r\n            margin: '0.5vw 0vw 1.8vw 0vw ',\r\n            fontSize: '3vw',\r\n            textAlign: 'center',\r\n          }}\r\n        >\r\n          {tags.map((tag)=>\"#\"+tag.data.tagName+' ')}\r\n        </div>\r\n        {user!==null?\r\n        <Button\r\n          className={classes.root}\r\n          style={{ maxWidth: '90%' }}\r\n          onClick={(e) => {\r\n            e.preventDefault();\r\n            if(props.canAdd){\r\n              axios.post('http://bmomark.com:8080/api/user/todo/add', {\r\n                \"cardId\":id,\r\n                \"userCred\":{\"userId\":user,\r\n                \"password\": pass}\r\n              })\r\n              .then(function (response) {\r\n              \r\n                history.push('/ToDoList');\r\n              })\r\n              .catch(function(error){\r\n                alert('something is wrong');\r\n                history.go(0);\r\n            });}\r\n            else{\r\n                history.push('/ToDoList');\r\n            }\r\n          }}\r\n        >\r\n          <span style={{ fontSize: '3vw'}}>\r\n            {props.canAdd ? 'Add To My List' : 'View In My List'}\r\n          </span>\r\n        </Button>:<Button className={classes.root}\r\n          style={{ maxWidth: '90%',fontSize:'0.8em' }}\r\n          onClick={(e) => {\r\n            e.preventDefault();\r\n                history.push('/Login');\r\n            }\r\n          }>Log In To Add</Button>}\r\n      </div>\r\n    </Link>\r\n  );\r\n}\r\n","import React, { useState, useEffect, useReducer } from 'react';\r\nimport FixedContainer from '../FixedContainer.js';\r\nimport SearchIcon from '@material-ui/icons/Search';\r\nimport AddBoxIcon from '@material-ui/icons/AddBox';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport axios from 'axios';\r\nimport GalleryCard from './GalleryCard';\r\n\r\nexport default function GalleryTab(props) {\r\n  const [currentTodo, setCurrent] = useState([]);\r\n\r\n  let user = sessionStorage.getItem('id');\r\n  let pass = sessionStorage.getItem('pass');\r\n\r\n  const [todo, setTodo] = useState(null);\r\n\r\n  const [data, setData] = useState([]);\r\n  \r\n\r\n  useEffect(() => {\r\n    const fetchData = async () => {\r\n      let result =\r\n        sessionStorage.getItem('search') !== null && sessionStorage.getItem('search') !== \"\"\r\n          ? await axios.get('http://bmomark.com:8080/api/card/list', {\r\n              params:{tagName: sessionStorage.getItem('search').trim()}\r\n            })\r\n          : await axios('http://bmomark.com:8080/api/card/all');\r\n      setData(result.data);\r\n      // console.log(result.data);\r\n      // console.log(sessionStorage.getItem('search'));\r\n    };\r\n    fetchData();\r\n  }, []);\r\n  let tmp = new Set();\r\n\r\n  useEffect(() => {\r\n    const fetchData = async () => {\r\n      let result = await axios.get('http://bmomark.com:8080/api/user/todo/list', {\r\n        params: { userId: user, password: pass },\r\n      });\r\n      result.data.forEach((t) => tmp.add(t.cardId));\r\n      setTodo(tmp);\r\n    };\r\n\r\n   if(user!==null)fetchData();\r\n  }, []);\r\n\r\n  const displayStyle = {\r\n    display: 'flex',\r\n    flexWrap: 'wrap',\r\n    position: 'relative',\r\n    bottom: '1.2vw',\r\n  };\r\n  const searchBar = {\r\n    border: '1px solid #54BEF5',\r\n    boxSizing: 'border-box',\r\n    borderRadius: '5px',\r\n    width: '50vw',\r\n    height: '24px',\r\n  };\r\n\r\n  const [searchContent, changeSearch] = useState('');\r\n\r\n\r\n  function Search() {\r\n    sessionStorage.setItem('search', searchContent);\r\n    window.location.reload();\r\n  }\r\n\r\n  return user===null||todo ? (\r\n    <FixedContainer displayType=\"logo\">\r\n      <div\r\n        style={{\r\n          display: 'flex',\r\n          alignItems: 'center',\r\n          justifyContent: 'space-between',\r\n          width: '90vw',\r\n          fontSize: '1.4em',\r\n        }}\r\n      >\r\n        <strong>Gallery</strong>\r\n        <div style={{ display: 'flex', alignItems: 'center' }}>\r\n          <input\r\n            type=\"search\"\r\n            placeholder=\"Search..\"\r\n            style={searchBar}\r\n            onChange={(event) => changeSearch(event.target.value)}\r\n          />\r\n          <SearchIcon style={{ color: '#54BEF5' }} onClick={Search} />\r\n        </div>\r\n      </div>\r\n\r\n      <div\r\n        style={{\r\n          display: 'flex',\r\n          justifyContent: 'flex-end',\r\n          marginTop: '0.7vw',\r\n        }}\r\n      >\r\n        <IconButton style={{ padding: '0' }} href=\"/AddActivity\">\r\n          <AddBoxIcon style={{ color: '#54BEF5' }}></AddBoxIcon>\r\n        </IconButton>\r\n      </div>\r\n      <div className=\"cardDisplay\" style={displayStyle}>\r\n        {data.map((card) => (\r\n          <GalleryCard\r\n            canAdd={todo?!todo.has(card.cardId):true}\r\n            key={card.cardId}\r\n            id={card.cardId}\r\n            url={card.activityImageId}\r\n            tags={card.relatedTagsId}\r\n            cardName={card.activityName}\r\n          />\r\n        ))}\r\n      </div>\r\n      {sessionStorage.getItem('search')!==null?<button style={{\r\n          backgroundColor: '#54BEF5',\r\n          fontSize: '1em',\r\n          color: 'white',\r\n          padding: '3vw',\r\n          border: 'none',\r\n          width: '100%',\r\n          margin:'auto'\r\n        }} onClick={()=>{ sessionStorage.removeItem('search');window.location.reload();}}>Show All Cards</button>:<div></div>}\r\n    </FixedContainer>\r\n  ) : (\r\n    <div>Loading</div>\r\n  );\r\n}\r\n","import React, { useState } from 'react';\r\nimport FixedContainer from '../FixedContainer';\r\nimport { Box, Button, Icon } from '@material-ui/core';\r\nimport axios from 'axios';\r\nimport { useHistory } from 'react-router-dom';\r\nimport ReactLoading from 'react-loading';\r\nimport { myFirestore, myStorage } from '../Config/MyFirebase';\r\n\r\nexport default function AddCard(props) {\r\n  const history = useHistory();\r\n  const cardStyle = {\r\n    border: '0.5vw dashed #54BEF5',\r\n    borderRadius: '12%',\r\n    width: '61.5vw',\r\n    height: '80vw',\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    alignItems: 'center',\r\n    paddingTop: '20px',\r\n    margin: '30px',\r\n    marginBottom: '5px',\r\n    textAlign: 'left',\r\n  };\r\n  const buttonStyle = {\r\n    backgroundColor: '#54BEF5',\r\n    color: 'white',\r\n    width: '30vw',\r\n    textTransform: 'lowercase',\r\n    fontSize: '1.1em',\r\n    padding: '5px',\r\n  };\r\n\r\n  const inputStyle = {\r\n    border: '0',\r\n    borderBottom: '1px solid',\r\n    outline: '0',\r\n    width: '90%',\r\n    marginTop: '15px',\r\n  };\r\n\r\n  const [name, setName] = useState('');\r\n  const [tag, setTag] = useState('');\r\n\r\n  function empty() {\r\n    setName('');\r\n    setTag('');\r\n    changeImg(null);\r\n  }\r\n  const [error, setError] = useState(false);\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  function post() {\r\n    let tags = [];\r\n\r\n    try {\r\n      if (tag.trim().length != 0) tags = tag.trim().split(',');\r\n    } catch (e) {\r\n      setError(true);\r\n      return;\r\n    }\r\n    let tagLength = 0;\r\n    tags.forEach((t,index,tags) => {\r\n      tags[index] = t.trim();\r\n      t = t.trim();\r\n      if (t === '') {\r\n        setError(true);\r\n        return;\r\n      }\r\n      tagLength += t.length;\r\n    });\r\n\r\n    if (\r\n      img == null ||\r\n      name.trim().length == 0 ||\r\n      name.trim().length > 15 ||\r\n      tagLength > 35\r\n    ) {\r\n      setError(true);\r\n      return;\r\n    }\r\n    // console.log(\"1\");\r\n    setIsLoading(true);\r\n   \r\n    myFirestore\r\n      .collection('Images')\r\n      .add({})\r\n      .then((result) => {\r\n        const uploadFileRef = myStorage.ref().child(result.id).put(img);\r\n        uploadFileRef.on(\r\n          'state_changed',\r\n          null,\r\n          () => {\r\n            setIsLoading(false);\r\n            setError(true);\r\n          },\r\n          () => {\r\n            uploadFileRef.snapshot.ref.getDownloadURL().then((url) => {\r\n              myFirestore\r\n                .collection('Images')\r\n                .doc(result.id)\r\n                .set({ imageId: result.id, imageUrl: url });\r\n              axios\r\n                .post('http://bmomark.com:8080/api/card/create', {\r\n                  userCred: {\r\n                    userId: sessionStorage.getItem('id'),\r\n                    password: sessionStorage.getItem('pass'),\r\n                  },\r\n                  card: { cardName: name, imageId: result.id },\r\n                  tags: tags,\r\n                })\r\n                .then(() => history.push('/'))\r\n                .catch(() => {\r\n                  setIsLoading(false);\r\n                  setError(true);\r\n                });\r\n            });\r\n          }\r\n        );\r\n      })\r\n      .catch((e) => {setError(true); setIsLoading(false); console.log(e);});\r\n  }\r\n  const [img, changeImg] = useState(null);\r\n\r\n  function handleChange(e) {\r\n    changeImg(e.target.files[0]);\r\n  }\r\n  return sessionStorage.getItem('id') !== null ? (\r\n    <FixedContainer displayType=\"return\">\r\n      <div\r\n        style={{\r\n          display: 'flex',\r\n          flexDirection: 'column',\r\n          alignItems: 'center',\r\n          marginTop: '2vh',\r\n        }}\r\n      >\r\n        <div style={{ textAlign: 'center', fontSize: '1.5em' }}>Add A Card</div>\r\n        <div style={cardStyle}>\r\n          <div style={{ textAlign: 'left', width: '85%' }}>Card Name:</div>\r\n          <input\r\n            type=\"text\"\r\n            value={name}\r\n            style={inputStyle}\r\n            onChange={(e) => setName(e.target.value)}\r\n          />\r\n          <div\r\n            style={{\r\n              backgroundColor: 'lightgrey',\r\n              width: '80%',\r\n              height: '35%',\r\n              margin: '25px',\r\n              display: 'flex',\r\n              justifyContent: 'center',\r\n              flexDirection: 'column',\r\n              alignItems: 'center',\r\n            }}\r\n          >\r\n            {img ? (\r\n              <img\r\n                src={URL.createObjectURL(img)}\r\n                style={{ width: '100%', height: '100%' }}\r\n              ></img>\r\n            ) : (\r\n              <input\r\n                accept=\"image/*\"\r\n                type=\"file\"\r\n                onChange={handleChange}\r\n                style={{ color: 'transparent', width: '90px', height: 'auto' }}\r\n              ></input>\r\n            )}{' '}\r\n          </div>\r\n          <div style={{ textAlign: 'left', width: '85%' }}>Tag:</div>\r\n          <input\r\n            value={tag}\r\n            type=\"text\"\r\n            style={inputStyle}\r\n            onChange={(e) => setTag(e.target.value)}\r\n          />\r\n        </div>\r\n        <div style={error ? { color: 'red' } : { visibility: 'hidden' }}>\r\n          Wrong Format, please fix\r\n        </div>\r\n        <div\r\n          style={{\r\n            display: 'flex',\r\n            justifyContent: 'space-between',\r\n            width: '85%',\r\n            margin: '10px',\r\n          }}\r\n        >\r\n          <Button style={buttonStyle} onClick={empty}>\r\n            Empty\r\n          </Button>\r\n          <Button style={buttonStyle} onClick={post}>\r\n            Add\r\n          </Button>\r\n        </div>\r\n        <div style={{ fontSize: '2.5vw' }}>\r\n          {' '}\r\n          Note:<br></br> Card Name has to be within 15 charaters; Tags shall be\r\n          entered seperated by ',' no white space after comma, and the\r\n          characters shall be within 35 (excluding comma)\r\n        </div>\r\n      </div>\r\n      {isLoading ? (\r\n        <div className=\"viewLoading\">\r\n          <ReactLoading\r\n            type={'spin'}\r\n            color={'#203152'}\r\n            height={'10%'}\r\n            width={'10%'}\r\n          />\r\n        </div>\r\n      ) : null}\r\n    </FixedContainer>\r\n  ) : (\r\n    <FixedContainer>\r\n      <div\r\n        style={{\r\n          display: 'flex',\r\n          alignItems: 'center',\r\n          justifyContent: 'space-between',\r\n          width: '90vw',\r\n          fontSize: '1.4em',\r\n        }}\r\n      >\r\n        <strong>Add Activity Card</strong>\r\n      </div>\r\n      <button\r\n        onClick={() => (window.location = '/Login')}\r\n        style={{\r\n          backgroundColor: '#54BEF5',\r\n          fontSize: '1em',\r\n          color: 'white',\r\n          padding: '3vw',\r\n          border: 'none',\r\n          marginTop: '30vh',\r\n          width: '100%',\r\n        }}\r\n      >\r\n        You Haven't Logged In, Please Click Me To Log In\r\n      </button>\r\n    </FixedContainer>\r\n  );\r\n}\r\n","import React, { useState, useEffect } from 'react';\r\nimport FixedContainer from '../FixedContainer.js';\r\nimport { Link, useParams } from 'react-router-dom';\r\nimport Avatar from '@material-ui/core/Avatar';\r\nimport LockOpenRoundedIcon from '@material-ui/icons/LockOpenRounded';\r\nimport axios from 'axios';\r\nimport ReactLoading from 'react-loading';\r\n\r\nexport default function CardView(props) {\r\n  let { id } = useParams();\r\n\r\n  const [usersAvatars, setUsersAvatars] = useState([]);\r\n  const [isLoading, setIsLoading] = useState(true);\r\n  const [card, setCard] = useState({\r\n    activityImageId: \"SeSKDXz9nS57iRajFZAO\",\r\n    activityName: \"Say Hello World!\"\r\n  });\r\n  const [activityImageUrl, setActivityImageUrl] = useState('/logo192.png');\r\n  \r\n  useEffect(() => {\r\n    const fetchData = async () => {\r\n      setIsLoading(true);\r\n      const result = await axios(`http://bmomark.com:8080/api/card/${id}/users`);\r\n      setUsersAvatars(result.data);\r\n      setIsLoading(false);\r\n    };\r\n    const fetchCardInfo = async () => {\r\n      setIsLoading(true);\r\n      const result = await axios(`http://bmomark.com:8080/api/card/${id}`);\r\n      setCard(result.data);\r\n      setIsLoading(false);\r\n    };\r\n\r\n    fetchData();\r\n    fetchCardInfo();\r\n  }, []);\r\n\r\n  useEffect(async () => {\r\n    setIsLoading(true);\r\n  \r\n    const result = await axios(`http://bmomark.com:8080/api/image/${card.activityImageId}`);\r\n        // .then(setIsLoading(false));\r\n    setActivityImageUrl(result.data.imageUrl);\r\n    setIsLoading(false);\r\n  }, [card]);\r\n\r\n  let user = sessionStorage.getItem('id');\r\n  let pass = sessionStorage.getItem('pass');\r\n\r\n  let done = false;\r\n  for (let i = 0; i < usersAvatars.length; i++) {\r\n    if (usersAvatars[i].userId === user) {\r\n      done = true;\r\n      break;\r\n    }\r\n  }\r\n\r\n  return (\r\n    <FixedContainer>\r\n      <div\r\n        style={{\r\n          display: 'flex',\r\n          flexDirection: 'column',\r\n          alignItems: 'center',\r\n        }}\r\n      >\r\n        <div style={{ textAlign: 'center', fontSize: '1.3em' }}>{ card.activityName } </div>\r\n        <img\r\n          style={{ maxWidth: '78.5vw', height: 'auto', margin: '15px 0px' }}\r\n          src={activityImageUrl}\r\n        ></img>\r\n        <div style={{ textAlign: 'center', fontSize: '1em' }}>\r\n          Completed By {usersAvatars.length} People\r\n        </div>\r\n        {done ? (\r\n          <div\r\n            className=\"avatars\"\r\n            style={{ display: 'flex', flexWrap: 'wrap' }}\r\n          >\r\n            {usersAvatars.map((avatar) => {\r\n              return (\r\n                <Link\r\n                  to={\r\n                    avatar.userId != user\r\n                      ? `/User/${\r\n                          avatar.userId ? avatar.userId : avatar.toString()\r\n                        }`\r\n                      : '/Profile'\r\n                  }\r\n                  key={avatar.userId ? avatar.userId : avatar.toString()}\r\n                >\r\n                  <Avatar\r\n                    alt={avatar.avatar.toString()}\r\n                    src={\r\n                      avatar.avatar !=='f9396883-8b6b-449f-97db-4ce4929b97fe'\r\n                        ? avatar.avatar\r\n                        : null\r\n                    }\r\n                    style={{ width: '20vw', height: '20vw', margin: '5vw' }}\r\n                  ></Avatar>\r\n                </Link>\r\n              );\r\n            })}\r\n          </div>\r\n        ) : (\r\n          <div>\r\n            <div\r\n              style={{\r\n                zIndex: '2',\r\n                margin: 'auto',\r\n                maxWidth: '60vw',\r\n                position: 'relative',\r\n                top: '15vh',\r\n                marginTop: '1.5vh',\r\n              }}\r\n            >\r\n              <LockOpenRoundedIcon /> Complete This Activty To View\r\n            </div>\r\n            <div\r\n              style={{\r\n                width: '90vw',\r\n                height: '30vh',\r\n                filter: 'blur(50px)',\r\n                backgroundColor: '#54BEF5',\r\n                opacity: '0.6',\r\n                zIndex: '1',\r\n              }}\r\n            ></div>\r\n          </div>\r\n        )}\r\n      </div>\r\n        {/* Loading */}\r\n        {isLoading ? (\r\n          <div className=\"viewLoading\">\r\n            <ReactLoading\r\n              type={'spin'}\r\n              color={'#203152'}\r\n              height={'10%'}\r\n              width={'10%'}\r\n            />\r\n          </div>\r\n        ) : null}\r\n    </FixedContainer>\r\n  );\r\n}\r\n","import React, { useState } from 'react';\r\nimport FixedContainer from '../FixedContainer';\r\nimport { Link,useHistory } from 'react-router-dom';\r\nimport axios from 'axios';\r\n\r\nexport default function Login1(props) {\r\n  const middle = {\r\n    margin: 'auto',\r\n  };\r\n  const inputSize = {\r\n    display: 'block',\r\n    marginTop: '50px',\r\n    backgroundColor: '#54BEF5',\r\n    color: 'white',\r\n    width: '60vw',\r\n    height: '5.5vh',\r\n    textAlign: 'center',\r\n    border: 'none',\r\n  };\r\n  const [email, setEmail] = useState('Email');\r\n  const [pass, setPass] = useState('Password');\r\n  const [error, setError] = useState(false);\r\n  const history=useHistory();\r\n  return (\r\n      <div\r\n        style={{\r\n          display: 'flex',\r\n          flexDirection: 'column',\r\n          alignItems: 'center',\r\n          height: '65vh',\r\n          justifyContent: 'center',\r\n        }}\r\n      >\r\n        <div style={{ textAlign: 'center', fontSize: '1.5em' }}>Log In</div>\r\n        <form\r\n          style={{ color: 'white', padding: '0px 5px', textAlign: 'center' }}\r\n        >\r\n          <input\r\n            type=\"text\"\r\n            value={email}\r\n            name=\"email\"\r\n            style={inputSize}\r\n            id=\"email\"\r\n            onClick={() => {\r\n              if (email === 'Email') {\r\n                setEmail('');\r\n              }\r\n            }}\r\n            onChange={(e) => setEmail(e.target.value)}\r\n          />\r\n\r\n          <input\r\n            type=\"text\"\r\n            value={pass}\r\n            name=\"password\"\r\n            style={inputSize}\r\n            id=\"password\"\r\n            onClick={() => {\r\n              if (pass === 'Password') {\r\n                setPass('');\r\n              }\r\n            }}\r\n            onChange={(e) => setPass(e.target.value)}\r\n          />\r\n          <div\r\n            style={\r\n              error\r\n                ? { color: 'red', textAlign: 'center' }\r\n                : { visibility: 'hidden' }\r\n            }\r\n          >\r\n            Invalid Password or Email\r\n          </div>\r\n\r\n          <input\r\n            type=\"submit\"\r\n            value=\"Log In\"\r\n            style={{\r\n              marginTop: '40px',\r\n              backgroundColor: '#54BEF5',\r\n              padding: '5px',\r\n              border: 'none',\r\n              color: 'white',\r\n              width: '28vw',\r\n              height: '4vh',\r\n            }}\r\n            onClick={(e) => {\r\n              e.preventDefault();\r\n              if (email !== 'Email' && pass !== 'Password') {\r\n                axios\r\n                  .post('http://bmomark.com:8080/api/user/login', {\r\n                    \"userId\": email,\r\n                    \"password\": pass,\r\n                  })\r\n                  .then(function (response) {\r\n                    if (response.data) {\r\n                      sessionStorage.setItem(\"id\",response.data);\r\n                      sessionStorage.setItem(\"pass\",pass);\r\n                      history.push('/');\r\n                    } else {\r\n                      setError(true);\r\n                    }\r\n                  }).catch(function(error){\r\n                    setError(true);\r\n                  })\r\n              } else {\r\n                setError(true);\r\n              }\r\n            }}\r\n          />\r\n        </form>\r\n        <div\r\n          style={{\r\n            width: '55vw',\r\n            display: 'flex',\r\n            justifyContent: 'space-between',\r\n            marginTop: '36px',\r\n          }}\r\n        >\r\n          <Link\r\n            to=\"/register\"\r\n            style={{\r\n              color: 'black',\r\n              textDecoration: 'none',\r\n              fontSize: '3.5vw',\r\n            }}\r\n          >\r\n            No Account? Click Me To Register\r\n          </Link>\r\n        </div>\r\n      </div>\r\n  );\r\n}\r\n","import React, { useState } from 'react';\r\nimport FixedContainer from '../FixedContainer';\r\nimport { Link, useHistory } from 'react-router-dom';\r\nimport axios from 'axios';\r\nimport Login1 from './Login';\r\nimport Button from '@material-ui/core/Button';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport { Autorenew } from '@material-ui/icons';\r\n\r\nexport default function Login(props) {\r\n  const middle = {\r\n    margin: 'auto',\r\n  };\r\n  const inputSize = {\r\n    display: 'block',\r\n    marginTop: '50px',\r\n    backgroundColor: '#54BEF5',\r\n    color: 'white',\r\n    width: '60vw',\r\n    height: '5.5vh',\r\n    textAlign: 'center',\r\n    border: 'none',\r\n  };\r\n\r\n  const history = useHistory();\r\n  \r\n  const useStyles = makeStyles({\r\n    root: {\r\n      background: '#54BEF5',\r\n      width: '28vw',\r\n      fontSize: '0.75em',\r\n      color: 'white',\r\n      padding: '3px',\r\n      height:'3vh',\r\n      margin:'auto',\r\n    },\r\n  });\r\n  const classes = useStyles();\r\n  return (\r\n    <FixedContainer>\r\n      {sessionStorage.getItem('id') === null ? (\r\n        <Login1 />\r\n      ) : (\r\n        <div style={{margin:'auto',height:'60vh',display:\"flex\",justifyContent:'center'}}>\r\n          <Button\r\n            className={classes.root}\r\n            onClick={() => {\r\n              axios\r\n                .post('http://bmomark.com:8080/api/user/logout', {\r\n                  userId: sessionStorage.getItem('id'),\r\n                  password: sessionStorage.getItem('pass'),\r\n                })\r\n                .then(function (response) {\r\n                  sessionStorage.clear();\r\n                  history.push('/');\r\n                });\r\n            }}\r\n          >\r\n            Log Out\r\n          </Button>\r\n        </div>\r\n      )}\r\n    </FixedContainer>\r\n  );\r\n}\r\n","import React, { useState } from 'react';\r\nimport FixedContainer from '../FixedContainer';\r\nimport axios from 'axios';\r\nimport { useHistory } from 'react-router-dom';\r\n\r\nexport default function Register(props) {\r\n  const middle = {\r\n    margin: 'auto',\r\n  };\r\n\r\n  const inputSize = {\r\n    display: 'block',\r\n\r\n    backgroundColor: '#54BEF5',\r\n    color: 'white',\r\n    width: '60vw',\r\n    height: '5.5vh',\r\n    margin: 'auto',\r\n    marginTop: '50px',\r\n    textAlign: 'center',\r\n    border: 'none',\r\n  };\r\n\r\n  const [email, setEmail] = useState('Email');\r\n  const [user, setUser] = useState('Username');\r\n  const [pass, setPass] = useState('Password');\r\n  const [error, setError] = useState(false);\r\n  const history = useHistory();\r\n\r\n  return (\r\n    <FixedContainer displayType=\"return\">\r\n      <div\r\n        style={{\r\n          display: 'flex',\r\n          flexDirection: 'column',\r\n          alignItems: 'center',\r\n          height: '65vh',\r\n          justifyContent: 'center',\r\n        }}\r\n      >\r\n        <div style={{ textAlign: 'center', fontSize: '1.5em' }}>Register</div>\r\n        <form\r\n          style={{ color: 'white', padding: '0px 5px', textAlign: 'center' }}\r\n        >\r\n          <input\r\n            type=\"text\"\r\n            value={user}\r\n            style={inputSize}\r\n            onClick={() => {\r\n              if (user === 'Username') {\r\n                setUser('');\r\n              }\r\n            }}\r\n            onChange={(e) => setUser(e.target.value)}\r\n          />\r\n\r\n          <input\r\n            type=\"text\"\r\n            value={email}\r\n            style={inputSize}\r\n            onClick={() => {\r\n              if (email === 'Email') {\r\n                setEmail('');\r\n              }\r\n            }}\r\n            onChange={(e) => setEmail(e.target.value)}\r\n          />\r\n\r\n          <input\r\n            type=\"text\"\r\n            value={pass}\r\n            name=\"password\"\r\n            style={inputSize}\r\n            id=\"password\"\r\n            onClick={() => {\r\n              if (pass === 'Password') {\r\n                setPass('');\r\n              }\r\n            }}\r\n            onChange={(e) => setPass(e.target.value)}\r\n          />\r\n\r\n          <div\r\n            style={\r\n              error\r\n                ? { color: 'red', textAlign: 'center',marginTop:'2vh',fontSize:'3vw' }\r\n                : { visibility: 'hidden' }\r\n            }\r\n          >\r\n            Invalid inputs, You might have already registered or your username has exceeded the 20-character limit\r\n          </div>\r\n\r\n          <input\r\n            type=\"submit\"\r\n            value=\"Register\"\r\n            style={{\r\n              marginTop: '2vh',\r\n              backgroundColor: '#54BEF5',\r\n              padding: '5px',\r\n              border: 'none',\r\n              color: 'white',\r\n              width: '28vw',\r\n              height: '4vh',\r\n            }}\r\n            onClick={(e) => {\r\n              e.preventDefault();\r\n              if (\r\n                email !== 'Email' &&\r\n                pass !== 'Password' &&\r\n                user != 'Username' && user.length< 20\r\n              ) {\r\n                axios\r\n                  .post('http://bmomark.com:8080/api/user/register', {\r\n                    userName: user,\r\n                    password: pass,\r\n                    email: email,\r\n                  })\r\n                  .then(function (response) {\r\n                    if (response.data) {\r\n                      history.push('/logIn');\r\n                    } else {\r\n                      setError(true);\r\n                    }\r\n                  });\r\n              } else {\r\n                setError(true);\r\n              }\r\n            }}\r\n          />\r\n        </form>\r\n      </div>\r\n    </FixedContainer>\r\n  );\r\n}\r\n","import React from 'react';\r\nimport { Box, Setting } from '@material-ui/core';\r\nimport Picture from '../Picture'\r\n\r\nclass Album extends React.Component{\r\n    \r\n    render(){\r\n        const ImgBox = {\r\n            display: 'flex',\r\n            flexWrap: 'wrap',\r\n            width: '95%',\r\n            paddingTop:'2vh',\r\n            margin:'auto',\r\n        };\r\n        const ImgItem = {\r\n            flex: '1 0 30%',\r\n            margin: '5px',\r\n        };\r\n        return(\r\n   \r\n                <Box style={ImgBox}>\r\n                    <Box style={ImgItem}><Picture/></Box>\r\n                    <Box style={ImgItem}><Picture/></Box>\r\n                    <Box style={ImgItem}><Picture/></Box>\r\n                    <Box style={ImgItem}><Picture/></Box>\r\n                    <Box style={ImgItem}><Picture/></Box>\r\n                    <Box style={ImgItem}><Picture/></Box>\r\n                </Box>\r\n       \r\n        )\r\n    }\r\n}\r\n\r\nexport default Album","import React,{useState,useEffect} from 'react';\r\nimport FixedContainer from '../FixedContainer.js';\r\nimport Avatar from '@material-ui/core/Avatar';\r\nimport Album from './Album';\r\nimport FootPrint from './FootPrint';\r\nimport Button from \"@material-ui/core/Button\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport axios from 'axios';\r\nimport {useHistory} from 'react-router-dom';\r\n\r\nconst useStyles = makeStyles({\r\n  root: {\r\n    background: '#54BEF5',\r\n    fontSize: '0.75em',\r\n    color: 'white',\r\n    padding: '3px 5px',\r\n    textTransform: 'none',\r\n  },\r\n});\r\n\r\nexport default function OtherUserPage(props) {\r\n  const history=useHistory();\r\n  let id = props.match.params.id;\r\n  let user=sessionStorage.getItem('id');\r\n  let pass = sessionStorage.getItem('pass');\r\n  const [profile, setOther] = useState(\r\n    {\r\n      userName:\"\",\r\n      album:[\"\"],\r\n      avatar:\"avatar\",\r\n      cardsTime:[{\r\n        pic:\"logo192.png\",\r\n        date:'',\r\n        id:\"\"\r\n      }]\r\n    }\r\n  );\r\n  useEffect(() => {\r\n    const fetchData = async () => {\r\n      const result = await axios(\r\n        `http://bmomark.com:8080/api/user/${id}`,{params:{\"userId\":user}}\r\n      );\r\n      // const result = await axios(\r\n      //   `http://bmomark.com:8080/api/user/${id}`,{params:{\"userId\":user}}\r\n      // );\r\n      setOther(result.data);\r\n    };\r\n    fetchData();\r\n  }, []);\r\n\r\n  const [result, setResult]=useState(2);\r\n  useEffect(() => {\r\n    const fetchData = async () => {\r\n      const result = await axios.get(\r\n        `http://bmomark.com:8080/api/chat/canchat`,{params:{\"userId\":user,\r\n        \"password\": pass,\r\n        \"userId_other\": id\r\n        }}\r\n      );\r\n      // const result = await axios.get(\r\n      //   `http://bmomark.com:8080/api/chat/canchat`,{params:{\"userId\":user,\r\n      //   \"password\": pass,\r\n      //   \"userId_other\": id\r\n      //   }}\r\n      // );\r\n      setResult(result.data);\r\n    };\r\n    if(id!=user)fetchData();\r\n  }, []);\r\n\r\n  function requestButton(){\r\n    // 1 -> A request B\r\n\t\t// 2 -> A receive request from B\r\n\t\t// 3 -> A reject B\r\n\t\t// 4 -> A is rejected by B\r\n\t\t// 5 -> A and B are friends\r\n    if(result===0){\r\n      return(<Button\r\n        className={classes.root}\r\n        style={{ maxWidth: '90%' ,position:'fixed',top:'2.5vh',right:'3vh'}}\r\n        onClick={()=>history.push(`/Request/${id}`)}\r\n      >\r\n        Request Chat\r\n      </Button>)\r\n    }\r\n    if(result===1){\r\n      return(<Button\r\n        className={classes.root}\r\n        style={{ maxWidth: '90%' ,position:'fixed',top:'2.5vh',right:'3vh'}}\r\n        disabled\r\n      >\r\n      Requested\r\n      </Button>)\r\n    }\r\n    if(result===2){\r\n      return(<Button\r\n        className={classes.root}\r\n        style={{ maxWidth: '90%' ,position:'fixed',top:'2.5vh',right:'3vh'}}\r\n        disabled\r\n      >\r\n      View in request list\r\n      </Button>)\r\n    }\r\n    if(result===3){\r\n      return(<Button\r\n        className={classes.root}\r\n        style={{ maxWidth: '90%' ,position:'fixed',top:'2.5vh',right:'3vh'}}\r\n        onClick={()=>history.push(`/Request/${id}`)}\r\n      >\r\n      Rejected (request?)\r\n      </Button>)\r\n    }\r\n    if(result===4){\r\n      return(<Button\r\n        className={classes.root}\r\n        style={{ maxWidth: '90%' ,position:'fixed',top:'2.5vh',right:'3vh'}}\r\n        disabled\r\n      >\r\n      Rejected\r\n      </Button>)\r\n    }\r\n    if(result===5){\r\n      return(<Button\r\n        className={classes.root}\r\n        style={{ maxWidth: '90%' ,position:'fixed',top:'2.5vh',right:'3vh'}}\r\n        onClick={()=>history.push(`/Chats`)}\r\n      >\r\n      Go Chat\r\n      </Button>)\r\n    }\r\n    \r\n\r\n  }\r\n \r\n  const [activities,setactivity]=useState([]);\r\n  useEffect(() => {\r\n    const fetchData = async () => {\r\n      const result = await axios.get(\r\n        'http://bmomark.com:8080/api/user/cards',{params:{\"userId\":user,\"userId_other\":id\r\n        }}\r\n      );\r\n      // const result = await axios.get(\r\n      //   'http://bmomark.com:8080/api/user/cards',{params:{\"userId\":user,\"userId_other\":id\r\n      //   }}\r\n      // );\r\n      console.log(result);\r\n      setactivity(result.data);\r\n    };\r\n    if(id!=user)fetchData();\r\n  }, []);\r\n\r\n\r\n  const classes = useStyles();\r\n  return (\r\n    <FixedContainer displayType=\"return\">\r\n      {requestButton()}\r\n      <div\r\n        style={{\r\n          display: 'flex',\r\n          flexDirection: 'column',\r\n          alignItems: 'center',\r\n        }}\r\n      >\r\n        <Avatar\r\n          src={profile.avatar!=='f9396883-8b6b-449f-97db-4ce4929b97fe'\r\n          ? profile.avatar\r\n          : null}\r\n          style={{ width: '17vw', height: '17vw', margin: '1.5vh' }}\r\n        ></Avatar>\r\n        {profile&&profile.userName?profile.userName+ \"'s page\":''}\r\n        <div style={{ width: '85vw', marginTop: '5vh' }}>\r\n        {profile&&profile.userName?profile.userName+ \"'s Album\":''}\r\n        <div\r\n            style={{\r\n              display: 'flex',\r\n              flexWrap: 'wrap',\r\n              width: '100%',\r\n              height: '60vw',\r\n            }}\r\n          >\r\n          {profile.album ? (\r\n              profile.album.map((photo) => (\r\n                <div\r\n                key={photo}\r\n                  style={{\r\n                    width: '30%',\r\n                    height: '50%',\r\n                    margin: '5px',\r\n                    textAlign:'right'\r\n                  }}\r\n                >\r\n                  <img\r\n                    style={{\r\n                      width: '100%',\r\n                      height: '80%',\r\n                    }}\r\n                    src={photo}\r\n                  ></img>\r\n                </div>\r\n              ))\r\n            ) : (\r\n              <div></div>\r\n            )}\r\n          </div>\r\n          \r\n        </div>\r\n        <div>\r\n          <div style={{ margin: '2.5vh 0' }}>Your Common Grounds</div>\r\n          <FootPrint activities={activities} />\r\n        </div>\r\n      </div>\r\n    </FixedContainer>\r\n  );\r\n}\r\n","import React from 'react';\r\nimport { Button } from '@material-ui/core';\r\nimport {Link, useParams} from 'react-router-dom';\r\nexport default function Completed(props) {\r\n  const buttonStyle = {\r\n    backgroundColor: '#54BEF5',\r\n    color: 'white',\r\n    width: '30vw',\r\n    textTransform: 'lowercase',\r\n    fontSize: '1.1em',\r\n    padding: '5px',\r\n  };\r\n\r\n  let {id}=useParams();\r\n  return (\r\n\r\n    <div style={{display:\"flex\",flexDirection:'column',alignItems:'center',justifyContent:'center',height:'80vh',width:'80vw',margin:'auto'}}>\r\n      <h1>Yes! You Did It!</h1>\r\n      <div style={{width:'85%',textAlign: 'left'}}>See who also did this:</div>\r\n      <div\r\n        style={{\r\n          display: 'flex',\r\n          justifyContent: 'space-between',\r\n          width: '85%',\r\n          margin: '10px',\r\n          \r\n        }}\r\n      >\r\n       <Link to='/ToDoList' style={{ textDecoration: 'none', color: 'black' }}> <Button style={buttonStyle} >\r\n          Later\r\n        </Button></Link>\r\n        <Link to={`/ActivityCard/${id}`} style={{ textDecoration: 'none', color: 'black' }}> <Button style={buttonStyle}>\r\n          Go\r\n        </Button></Link>\r\n      </div>\r\n    </div>\r\n\r\n  );\r\n}\r\n","import React, { useEffect, useState } from 'react';\r\nimport { Button } from '@material-ui/core';\r\nimport { Link, useHistory, useParams } from 'react-router-dom';\r\nimport axios from 'axios';\r\nimport { green } from '@material-ui/core/colors';\r\nimport FixedContainer from '../FixedContainer';\r\n\r\nexport default function Request(props) {\r\n  const buttonStyle = {\r\n    backgroundColor: '#54BEF5',\r\n    color: 'white',\r\n    width: '30vw',\r\n    textTransform: 'lowercase',\r\n    fontSize: '1.1em',\r\n    padding: '5px',\r\n  };\r\n\r\n  const history = useHistory();\r\n  let user = sessionStorage.getItem('id');\r\n  let pass = sessionStorage.getItem('pass');\r\n  let id = props.match.params.id;\r\n  const [error, setError] = useState(false);\r\n  function send() {\r\n    axios\r\n      .post(`http://bmomark.com:8080/api/chat/request`, {\r\n        userCred: {\r\n          userId: user,\r\n          password: pass,\r\n        },\r\n        userId_other: id,\r\n      })\r\n      .then(() => {\r\n        setError(true);\r\n      });\r\n  }\r\n\r\n  return (\r\n    <FixedContainer displayType=\"return\">\r\n      <div\r\n        style={{\r\n          display: 'flex',\r\n          flexDirection: 'column',\r\n          alignItems: 'center',\r\n          justifyContent: 'center',\r\n          height: '65vh',\r\n          width: '80vw',\r\n          margin: 'auto',\r\n        }}\r\n      >\r\n        <div style={{ fontSize: '7vw' }}>Request Chat</div>\r\n        <div style={{ fontSize: '3.6vw', textAlign: 'center', margin: '20px' }}>\r\n          You'll see this user in your chat list once he/she accepts your\r\n          request.\r\n        </div>\r\n\r\n        <div\r\n          style={{\r\n            display: 'flex',\r\n            justifyContent: 'space-between',\r\n            width: '85%',\r\n            margin: '10px',\r\n          }}\r\n        >\r\n          <Button style={buttonStyle} onClick={() => history.goBack()}>\r\n            Cancel\r\n          </Button>\r\n          <Button style={buttonStyle} onClick={send}>\r\n            Send\r\n          </Button>\r\n        </div>\r\n        <div style={error ? { color: 'green',textAlign:'center' } : { display: 'none' }}>\r\n          Request Sent, Now You Can Return To The Previous Page\r\n        </div>\r\n      </div>\r\n    </FixedContainer>\r\n  );\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport FixedContainer from '../FixedContainer';\r\n\r\nfunction Setting(props) {\r\n  return (\r\n    <FixedContainer displayType=\"return\">\r\n      \r\n    </FixedContainer>\r\n  );\r\n}\r\nexport default Setting;\r\n{/* <SettingsIcon onClick={()=>history.push(`/Setting`)}/> */}","import React, { useState, useEffect } from 'react';\r\nimport { useHistory } from 'react-router-dom';\r\nimport FixedContainer from '../FixedContainer.js';\r\nimport Avatar from '@material-ui/core/Avatar';\r\nimport axios from 'axios';\r\nimport ReactLoading from 'react-loading';\r\n\r\nexport default function RequestList(props) {\r\n  // userId = sessionStorage.getItem(\"id\");\r\n  //     userPass = sessionStorage.getItem(\"pass\")\r\n  useEffect(() => {\r\n    setIsLoading(true);\r\n    setUserId(sessionStorage.getItem('id'));\r\n    console.log(sessionStorage.getItem('id'));\r\n    setUserPass(sessionStorage.getItem('pass'));\r\n    console.log(sessionStorage.getItem('pass'));\r\n    console.log(userId);\r\n    console.log(userPass);\r\n    // if(userId===\"\" || userPass===\"\"){\r\n    //     history.push(\"/\");\r\n    // }\r\n    const fetchData = async () => {\r\n      const result = await axios.get(\r\n        `http://bmomark.com:8080/api/chat/request?userId=${sessionStorage.getItem('id')}&password=${sessionStorage.getItem('pass')}`\r\n      );\r\n      if (result.data !== '') {\r\n        console.log(result.data);\r\n        setUserList(result.data);\r\n        setIsLoading(false);\r\n      }\r\n    };\r\n    fetchData();\r\n  }, []);\r\n  const history = useHistory();\r\n  const [userId, setUserId] = useState('');\r\n  const [userPass, setUserPass] = useState('');\r\n  const [userList, setUserList] = useState([]);\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  // public boolean acceptRequest(@RequestBody withOtherWrapper wrapper, @RequestParam(\"accepted\") boolean accepted, @RequestParam(\"userId_other\") String userId_other){\r\n\r\n  const acceptRequest = async (accept, userId_other, index) => {\r\n    setIsLoading(true);\r\n    await axios.post(\r\n      `http://bmomark.com:8080/api/chat/acceptance?accepted=${accept}&userId_other=${userId_other}`,\r\n      {\r\n        userId: userId,\r\n        password: userPass,\r\n      }\r\n    );\r\n    let newArray = [...userList];\r\n    newArray.splice(index, 1);\r\n    setUserList(newArray);\r\n    setIsLoading(false);\r\n  };\r\n  const buttonStyle = {\r\n    backgroundColor: '#54BEF5',\r\n    fontSize: '1em',\r\n    color: 'white',\r\n    padding: '2vw 5vw',\r\n    border: 'none',\r\n  };\r\n\r\n  const renderUserList = () => {\r\n    if (userList.length > 0) {\r\n      let viewListUser = [];\r\n      userList.forEach((item, index) => {\r\n        viewListUser.push(\r\n          <div\r\n            style={{\r\n              display: 'flex',\r\n              alignItems: 'center',\r\n              justifyContent: 'space-around',\r\n              marginTop:'10px'\r\n            }}\r\n            key={index}\r\n            \r\n          >\r\n            <Avatar\r\n              alt={item.avatar.toString()}\r\n              src={\r\n                item.avatar!=='f9396883-8b6b-449f-97db-4ce4929b97fe'\r\n                ? item.avatar\r\n                : null\r\n              }\r\n              style={{\r\n                width: '15vw',\r\n                height: '15vw',\r\n              }}\r\n              onClick={()=>history.push(`/User/${item.userId}`)}\r\n            ></Avatar>\r\n            <div style={{width:'30vw'}}><strong>{item.userName}</strong></div>\r\n            <button\r\n              onClick={(e) => {\r\n                e.preventDefault();\r\n                acceptRequest(1, item.userId, index);\r\n              }}\r\n              style={buttonStyle}\r\n            >\r\n              Yes\r\n            </button>\r\n            <button\r\n              style={buttonStyle}\r\n              onClick={(e) => {\r\n                e.preventDefault();\r\n                acceptRequest(0, item.userId, index);\r\n              }}\r\n            >\r\n              No\r\n            </button>\r\n          </div>\r\n        );\r\n      });\r\n      return viewListUser;\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <FixedContainer displayType='return'>\r\n      <div\r\n          style={{\r\n            display: 'flex',\r\n            alignItems: 'center',\r\n            justifyContent: 'space-between',\r\n            width: '90vw',\r\n            fontSize: '1.4em',\r\n            marginBottom:'5vh'\r\n          }}\r\n        >\r\n          <strong>All Your Requests</strong>\r\n        </div>\r\n\r\n        {renderUserList()}\r\n      </FixedContainer>\r\n      {/* Loading */}\r\n      {isLoading ? (\r\n        <div className=\"viewLoading\">\r\n          <ReactLoading\r\n            type={'spin'}\r\n            color={'#203152'}\r\n            height={'10%'}\r\n            width={'10%'}\r\n          />\r\n        </div>\r\n      ) : null}\r\n    </div>\r\n  );\r\n}\r\n","import React, { useEffect } from 'react';\r\nimport ProfileTab from './Profiles/PersonalProfile';\r\nimport ToDoListTab from './ToDoListTab';\r\nimport ChatsTab from './ChatsTab';\r\nimport ChatBoard from './ChatsTab/ChatBoard';\r\nimport GalleryTab from './GalleryTab';\r\nimport { Switch, Route } from 'react-router-dom';\r\nimport AddCard from './AddCard';\r\nimport CardView from './PeopleInCard';\r\nimport Login from './Login';\r\nimport Register from './Register';\r\nimport OtherUserPage from './Profiles/OtherUserPage';\r\nimport Completed from './ToDoListTab/Completed';\r\nimport Request from './Profiles/RequestChat';\r\nimport Setting from './Profiles/Setting';\r\nimport RequestList from './ChatsTab/RequestList';\r\n\r\nimport axios from 'axios';\r\nexport default function App(props) {\r\n \r\n  return (\r\n    <div className=\"App\">\r\n      <Switch>\r\n        <Route path=\"/\" exact component={GalleryTab}/>\r\n        <Route path=\"/AddActivity\" exact component={AddCard}/>\r\n        <Route path=\"/Profile\" exact component={ProfileTab}/>\r\n        <Route path=\"/ToDoList\" exact component={ToDoListTab}/>\r\n        <Route path=\"/Chats\" exact component={ChatsTab}/>\r\n        <Route path=\"/Chats/Request\" component={RequestList} />\r\n        <Route path=\"/Chats/:ChatId\" component={ChatBoard} />\r\n        <Route path=\"/ActivityCard/:id\" component={CardView} />\r\n        <Route path=\"/User/:id\" component={OtherUserPage} />\r\n        <Route path=\"/Login\" exact component={Login} />\r\n        <Route path=\"/Register\" exact component={Register} />\r\n        <Route path=\"/Completed/:id\" component={Completed} />\r\n        <Route path=\"/Request/:id\" component={Request} />\r\n      </Switch>\r\n    </div>\r\n  );\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport {BrowserRouter} from 'react-router-dom';\r\n\r\nReactDOM.render(\r\n  <BrowserRouter>\r\n    <App />\r\n  </BrowserRouter>,\r\n  document.getElementById('root')\r\n);\r\n\r\n"],"sourceRoot":""}